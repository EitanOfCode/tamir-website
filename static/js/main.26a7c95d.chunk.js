(window["webpackJsonptamir-website"]=window["webpackJsonptamir-website"]||[]).push([[0],{116:function(e,t){},178:function(e,t,n){e.exports=n(300)},183:function(e,t,n){},189:function(e,t){},190:function(e,t){},212:function(e,t){},298:function(e,t,n){e.exports=n.p+"static/media/S.5b3b9cd5.jpg"},299:function(e,t,n){},300:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),l=(n(183),n(34)),c=n(35),s=n(37),u=n(36),d=n(38),f=n(12),m=n(7),b=n(164),p=n(60),g=n.n(p);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=function(e){return e.reduce((function(e,t){var n=Object(m.a)(t,2),r=n[0],a=n[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(f.a)({},r,a))}),{})},v=function(e,t,n){return e.filter((function(e){return n(t,e)})).length===e.length},O=function(e){return y(Object.entries(e).filter((function(e){return Object(m.a)(e,2)[1]})))},w=function(e){var t=new FileReader;return new Promise((function(n,r){t.onerror=function(){t.abort(),n()},t.onload=function(){n({fileName:e.name,result:t.result})},t.readAsArrayBuffer(e)}))},E=function(e){var t=e.fileName,n=e.result,r=[];if("string"!==typeof n){var a=g.a.read(new Uint8Array(n),{type:"array"});a.SheetNames.forEach((function(e){var n=g.a.utils.sheet_to_json(a.Sheets[e],{header:1});n.length&&r.push({fileName:t,sheetName:e,aoa:n})}))}return r},j=function(e){var t=e.fileName,n=e.sheetName,r=void 0===n?"Sheet1":n,a=e.aoa;if(a){var i=g.a.utils.book_new();k(i);var o=g.a.utils.aoa_to_sheet(a);g.a.utils.book_append_sheet(i,o,r),g.a.writeFile(i,t+".xlsx")}},k=function(e){e.Workbook||(e.Workbook={}),e.Workbook.Views||(e.Workbook.Views=[]),e.Workbook.Views[0]||(e.Workbook.Views[0]={}),e.Workbook.Views[0].RTL=!0},S=n(347),R=n(380),N=n(350),C=n(351),P=n(352),x=n(353),D=n(354),M=Object(S.a)((function(e){return{title:{textAlign:"center",fontSize:30}}})),A=function(e){var t=e.title,n=e.body,r=e.visible,i=e.handleClose,o=M();function l(){i()}return a.a.createElement(R.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:r,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(N.a,{id:"alert-dialog-title",className:o.title},t),a.a.createElement(C.a,null,a.a.createElement(P.a,{id:"alert-dialog-description"},n)),a.a.createElement(x.a,null,a.a.createElement(D.a,{onClick:l,color:"primary"},"OK")))},F=n(71),T=n.n(F);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B=function(e){var t=e.onGetFile,n=Object(r.useState)({title:"",body:"",visible:!1}),i=Object(m.a)(n,2),o=i[0],l=i[1],c=Object(r.useCallback)((function(e){(function(e){var t=e.map(w);return new Promise((function(e,n){Promise.all(t).then((function(t){e(function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){t.push(e)}))})),t}(t.filter((function(e){return void 0!==e})).map(E).filter((function(e){return 0!==e.length}))))}))}))})(e).then((function(e){e.length>0?t(e[0].aoa):l({title:"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05de\u05d0\u05e7\u05e1\u05dc",body:"!\u05e0\u05d0 \u05dc\u05d8\u05e2\u05d5\u05df \u05e7\u05d5\u05d1\u05e5 \u05dc\u05d0 \u05e8\u05d9\u05e7",visible:!0})}))}),[]),s=Object(b.a)({onDrop:c}),u=s.getRootProps,d=s.getInputProps;s.isDragActive;return a.a.createElement("div",Object.assign({},u(),{style:{display:"flex",justifyContent:"center",marginTop:100}}),a.a.createElement(A,Object.assign({},o,{handleClose:function(){return l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{visible:!1}))}})),a.a.createElement("input",d()),a.a.createElement("img",{src:"https://i.imgur.com/7YQeiQX.png",style:{width:350,height:350,alignSelf:"center"}}))},z=n(64),L=n(18),W=n(86),G=n.n(W),Y=n(24),U=n(358),V=n(377),X=n(359),H=n(357),q=n(305),K=n(360),_=n(361),Q=n(362),J=n(61),$=n(154),Z=n.n($),ee=n(155),te=n.n(ee),ne=n(92),re=n.n(ne),ae=n(91),ie=n.n(ae),oe=n(49),le=n.n(oe),ce=n(153),se=n.n(ce),ue=n(10),de=n.n(ue),fe=(n(118),n(30)),me=n.n(fe),be=function(e){return e instanceof Date?me()(e):me()(e.toDate())};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){return e.map((function(e){var t=e.endTime,n=e.startTime;return n&&t?function(e,t){var n=be(e),r=be(t),a=me.a.duration(r.diff(n)).asHours();return a<0?0:a}(n,t):0})).reduce((function(e,t){return e+t}),0)},ye=function(e,t,n,r,a){return ge({},a,r?"ceo"===e?{role:r.substr(0,r.length-1)}:{owners:ge({},n,Object(f.a)({},e+"s",[t])),role:r.substr(0,r.length-1)}:{owners:ge({},n,Object(f.a)({},e+"s","tutor"===e?[{studentStatus:"normal",uid:t}]:[t]))})},ve=n(46),Oe=n.n(ve),we=(n(121),n(58)),Ee=null,je={students:"Students",attendanceDays:"AttendanceDays",users:"Users"};function ke(){return Ee.collection(je.students)}function Se(e){return Ee.collection(je.students).doc(e)}function Re(e){return Ee.collection(je.users).doc(e)}function Ne(){return Ee.collection(je.users)}function Ce(e){return Ee.collection(je.students).doc(e).delete()}function Pe(e){return Ee.collection(je.users).doc(e).delete()}var xe=function(e,t){if(t){var n=new Date(t.getFullYear(),t.getMonth()),r=new Date(t.getFullYear(),t.getMonth(),(a=t,new Date(a.getFullYear(),a.getMonth()+1,0).getDate()));return Promise.all(e.map((function(e){return Ee.collection(je.attendanceDays).where("owners.tutors","array-contains",e).where("day",">=",n).where("day","<=",r).get().then((function(e){return e.docs.flatMap((function(e){return e.data().shifts}))}))})))}return Promise.all(e.map((function(e){return Ee.collection(je.attendanceDays).where("owners.tutors","array-contains",e).get().then((function(e){return e.docs.flatMap((function(e){return e.data().shifts}))}))})));var a},De=function(){return Ee=de.a.firestore(),{deleteStudent:Ce,getStudents:ke,deleteUser:Pe,getSpecificStudent:Se,getSpecificUser:Re,getUsers:Ne,getAttendance:xe}};de.a.initializeApp({apiKey:"AIzaSyDEaOcHtrnBB3GQ12z1nR9qRNfwEIsNrFo",authDomain:"tamir-db.firebaseapp.com",databaseURL:"https://tamir-db.firebaseio.com",projectId:"tamir-db",storageBucket:"tamir-db.appspot.com",messagingSenderId:"463912944330",appId:"1:463912944330:web:2a447f8b8212da82"});var Me=De();n(196);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangeComplete=function(e){n.setState({dob:e.target.value},(function(){return n.props.onCommit()}))},n.state={dob:e.value},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getValue",value:function(){return{dob:this.state.dob}}},{key:"getInputNode",value:function(){return o.a.findDOMNode(this).getElementsByTagName("input")[0]}},{key:"render",value:function(){return a.a.createElement("form",null,a.a.createElement(V.a,{id:"date",label:"Birthday",style:{width:200},type:"date",defaultValue:"30-06-2019",value:this.state.dob,onChange:this.handleChangeComplete,InputLabelProps:{shrink:!0}}))}}]),t}(a.a.Component),Ie=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangePhone=function(e){return function(t){n.setState(Fe({},n.state,Object(f.a)({},e,t)))}},n.state={phone:e.value},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getValue",value:function(){return{phone:this.state.phone}}},{key:"getInputNode",value:function(){return o.a.findDOMNode(this).getElementsByTagName("input")[0]}},{key:"render",value:function(){return a.a.createElement("form",null,a.a.createElement(we.a,{country:"IL",placeholder:"\u05e0\u05d9\u05d9\u05d3",value:this.state.phone,onChange:this.handleChangePhone("phone")}))}}]),t}(a.a.Component),Be={filterable:!0,sortable:!0,resizable:!0,editable:!0,formatter:function(e){var t=e.value;return a.a.createElement("div",{style:{textAlign:"right"}},t)},minWidth:50},ze=Y.Editors.DropDownEditor,Le=Y.Filters.NumericFilter,We=Y.Filters.AutoCompleteFilter,Ge=a.a.createElement(ze,{options:[{id:"xSmall",value:"XXXS"},{id:"xSmall",value:"XXS"},{id:"xSmall",value:"XS"},{id:"small",value:"S"},{id:"medium",value:"M"},{id:"large",value:"L"},{id:"xLarge",value:"XL"},{id:"xSmall",value:"XXL"},{id:"xSmall",value:"XXXL"}]}),Ye=a.a.createElement(ze,{options:[{id:"male",value:"\u05d6"},{id:"female",value:"\u05e0"}]}),Ue=a.a.createElement(ze,{options:[{id:"1",value:"\u05d0"},{id:"2",value:"\u05d1"},{id:"3",value:"\u05d2"},{id:"4",value:"\u05d3"},{id:"5",value:"\u05d4"},{id:"6",value:"\u05d5"},{id:"7",value:"\u05d6"},{id:"8",value:"\u05d7"},{id:"9",value:"\u05d8"},{id:"10",value:"\u05d9"},{id:"11",value:"\u05d9\u05d0"},{id:"12",value:"\u05d9\u05d1"}]}),Ve=[{key:"id",name:"No.",width:40,filterRenderer:Le,editable:!1},{key:"lastName",name:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",width:100,filterRenderer:We},{key:"firstName",name:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",filterRenderer:We},{key:"groups",name:"\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea",width:100,filterRenderer:We},{key:"phone",name:"\u05e0\u05d9\u05d9\u05d3",width:130,editor:Ie,formatter:!1,filterRenderer:We},{key:"gender",name:"\u05de\u05d9\u05df",editor:Ye,filterRenderer:We},{key:"tutor",name:"\u05de\u05d3\u05e8\u05d9\u05da",editable:!1,filterRenderer:We},{key:"coordinator",name:"\u05e8\u05db\u05d6 \u05e9\u05db\u05d5\u05e0\u05d4",editable:!1,width:100,filterRenderer:We},{key:"departmentManager",name:"\u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",editable:!1,width:120,filterRenderer:We},{key:"schoolGrade",name:"\u05db\u05d9\u05ea\u05d4",width:110,editor:Ue,filterRenderer:We},{key:"school",name:"\u05de\u05d5\u05e1\u05d3 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd",width:110,filterRenderer:We},{key:"address",name:"\u05db\u05ea\u05d5\u05d1\u05ea",filterRenderer:We},{key:"neighborhood",name:"\u05e9\u05db\u05d5\u05e0\u05d4",filterRenderer:We},{key:"dob",name:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",editor:Te,width:100,filterRenderer:We},{key:"govID",name:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",width:100,filterRenderer:We},{key:"city",name:"\u05e2\u05d9\u05e8",filterRenderer:We},{key:"email",name:"\u05de\u05d9\u05d9\u05dc",width:110,filterRenderer:We},{key:"shirtSize",name:"\u05de\u05d9\u05d3\u05ea \u05d7\u05d5\u05dc\u05e6\u05d4",width:100,filterRenderer:We,editor:Ge},{key:"friends",name:"\u05d7\u05d1\u05e8\u05d9\u05dd",width:120,filterRenderer:We},{key:"socialCircle",name:"\u05de\u05e2\u05d2\u05dc \u05d7\u05d1\u05e8\u05ea\u05d9",width:110,filterRenderer:We},{key:"youthGroup",name:"\u05ea\u05e0\u05d5\u05e2\u05ea \u05e0\u05d5\u05e2\u05e8",width:100,filterRenderer:We},{key:"interests",name:"\u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05e0\u05d9\u05d9\u05df",width:100,filterRenderer:We},{key:"specialIssues",name:"\u05d1\u05e2\u05d9\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05d5\u05ea",width:110,filterRenderer:We},{key:"prefferedDays",name:"\u05d9\u05de\u05d9\u05dd \u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd",width:110,filterRenderer:We},{key:"staffMemberAppointed",name:"\u05d0\u05d9\u05e9 \u05e6\u05d5\u05d5\u05ea \u05de\u05d8\u05e4\u05dc",width:120,filterRenderer:We},{key:"comments",name:"\u05d4\u05e2\u05e8\u05d5\u05ea",filterRenderer:We},{key:"studentStatus",name:"\u05e1\u05d8\u05d8\u05d5\u05e1",filterRenderer:We,editable:!1},{key:"lastModified",name:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df",filterRenderer:We,editable:!1,width:160},{key:"check",width:5}].map((function(e){return Fe({},Be,{},e)})),Xe=[{key:"id",name:"No.",width:40,filterRenderer:Le,editable:!1},{key:"lastName",name:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",width:100,filterRenderer:We},{key:"firstName",name:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",filterRenderer:We},{key:"groups",name:"\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea",width:100,filterRenderer:We},{key:"phone",name:"\u05e0\u05d9\u05d9\u05d3",width:130,editor:Ie,formatter:!1,filterRenderer:We},{key:"gender",name:"\u05de\u05d9\u05df",editor:Ye,filterRenderer:We},{key:"tutor",name:"\u05de\u05d3\u05e8\u05d9\u05da",editable:!1,filterRenderer:We},{key:"coordinator",name:"\u05e8\u05db\u05d6 \u05e9\u05db\u05d5\u05e0\u05d4",editable:!1,width:100,filterRenderer:We},{key:"schoolGrade",name:"\u05db\u05d9\u05ea\u05d4",width:110,editor:Ue,filterRenderer:We},{key:"school",name:"\u05de\u05d5\u05e1\u05d3 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd",width:110,filterRenderer:We},{key:"address",name:"\u05db\u05ea\u05d5\u05d1\u05ea",filterRenderer:We},{key:"neighborhood",name:"\u05e9\u05db\u05d5\u05e0\u05d4",filterRenderer:We},{key:"dob",name:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",editor:Te,width:100,filterRenderer:We},{key:"govID",name:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",width:100,filterRenderer:We},{key:"city",name:"\u05e2\u05d9\u05e8",filterRenderer:We},{key:"email",name:"\u05de\u05d9\u05d9\u05dc",width:110,filterRenderer:We},{key:"shirtSize",name:"\u05de\u05d9\u05d3\u05ea \u05d7\u05d5\u05dc\u05e6\u05d4",width:100,filterRenderer:We,editor:Ge},{key:"friends",name:"\u05d7\u05d1\u05e8\u05d9\u05dd",width:120,filterRenderer:We},{key:"socialCircle",name:"\u05de\u05e2\u05d2\u05dc \u05d7\u05d1\u05e8\u05ea\u05d9",width:110,filterRenderer:We},{key:"youthGroup",name:"\u05ea\u05e0\u05d5\u05e2\u05ea \u05e0\u05d5\u05e2\u05e8",width:100,filterRenderer:We},{key:"interests",name:"\u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05e0\u05d9\u05d9\u05df",width:100,filterRenderer:We},{key:"specialIssues",name:"\u05d1\u05e2\u05d9\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05d5\u05ea",width:110,filterRenderer:We},{key:"prefferedDays",name:"\u05d9\u05de\u05d9\u05dd \u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd",width:110,filterRenderer:We},{key:"staffMemberAppointed",name:"\u05d0\u05d9\u05e9 \u05e6\u05d5\u05d5\u05ea \u05de\u05d8\u05e4\u05dc",width:120,filterRenderer:We},{key:"comments",name:"\u05d4\u05e2\u05e8\u05d5\u05ea",filterRenderer:We},{key:"studentStatus",name:"\u05e1\u05d8\u05d8\u05d5\u05e1",filterRenderer:We,editable:!1},{key:"lastModified",name:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df",filterRenderer:We,editable:!1,width:160},{key:"check",width:5}].map((function(e){return Fe({},Be,{},e)})),He=[{key:"id",name:"No.",width:40,filterRenderer:Le,editable:!1},{key:"lastName",name:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",width:100,filterRenderer:We},{key:"firstName",name:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",filterRenderer:We},{key:"groups",name:"\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea",width:100,filterRenderer:We},{key:"phone",name:"\u05e0\u05d9\u05d9\u05d3",width:130,editor:Ie,formatter:!1,filterRenderer:We},{key:"gender",name:"\u05de\u05d9\u05df",editor:Ye,filterRenderer:We},{key:"tutor",name:"\u05de\u05d3\u05e8\u05d9\u05da",editable:!1,filterRenderer:We},{key:"schoolGrade",name:"\u05db\u05d9\u05ea\u05d4",width:110,editor:Ue,filterRenderer:We},{key:"school",name:"\u05de\u05d5\u05e1\u05d3 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd",width:110,filterRenderer:We},{key:"address",name:"\u05db\u05ea\u05d5\u05d1\u05ea",filterRenderer:We},{key:"neighborhood",name:"\u05e9\u05db\u05d5\u05e0\u05d4",filterRenderer:We},{key:"dob",name:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",editor:Te,width:100,filterRenderer:We},{key:"govID",name:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",width:100,filterRenderer:We},{key:"city",name:"\u05e2\u05d9\u05e8",filterRenderer:We},{key:"email",name:"\u05de\u05d9\u05d9\u05dc",width:110,filterRenderer:We},{key:"shirtSize",name:"\u05de\u05d9\u05d3\u05ea \u05d7\u05d5\u05dc\u05e6\u05d4",width:100,filterRenderer:We,editor:Ge},{key:"friends",name:"\u05d7\u05d1\u05e8\u05d9\u05dd",width:120,filterRenderer:We},{key:"socialCircle",name:"\u05de\u05e2\u05d2\u05dc \u05d7\u05d1\u05e8\u05ea\u05d9",width:110,filterRenderer:We},{key:"youthGroup",name:"\u05ea\u05e0\u05d5\u05e2\u05ea \u05e0\u05d5\u05e2\u05e8",width:100,filterRenderer:We},{key:"interests",name:"\u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05e0\u05d9\u05d9\u05df",width:100,filterRenderer:We},{key:"specialIssues",name:"\u05d1\u05e2\u05d9\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05d5\u05ea",width:110,filterRenderer:We},{key:"prefferedDays",name:"\u05d9\u05de\u05d9\u05dd \u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd",width:110,filterRenderer:We},{key:"staffMemberAppointed",name:"\u05d0\u05d9\u05e9 \u05e6\u05d5\u05d5\u05ea \u05de\u05d8\u05e4\u05dc",width:120,filterRenderer:We},{key:"comments",name:"\u05d4\u05e2\u05e8\u05d5\u05ea",filterRenderer:We},{key:"studentStatus",name:"\u05e1\u05d8\u05d8\u05d5\u05e1",filterRenderer:We,editable:!1},{key:"lastModified",name:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df",filterRenderer:We,editable:!1,width:160},{key:"check",width:5}].map((function(e){return Fe({},Be,{},e)})),qe=[{key:"id",name:"No.",width:40,filterRenderer:Le,editable:!1},{key:"lastName",name:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",width:100,filterRenderer:We},{key:"firstName",name:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",filterRenderer:We},{key:"groups",name:"\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea",width:100,filterRenderer:We},{key:"phone",name:"\u05e0\u05d9\u05d9\u05d3",width:130,editor:Ie,formatter:!1,filterRenderer:We},{key:"gender",name:"\u05de\u05d9\u05df",editor:Ye,filterRenderer:We},{key:"schoolGrade",name:"\u05db\u05d9\u05ea\u05d4",width:110,editor:Ue,filterRenderer:We},{key:"school",name:"\u05de\u05d5\u05e1\u05d3 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd",width:110,filterRenderer:We},{key:"address",name:"\u05db\u05ea\u05d5\u05d1\u05ea",filterRenderer:We},{key:"neighborhood",name:"\u05e9\u05db\u05d5\u05e0\u05d4",filterRenderer:We},{key:"dob",name:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",editor:Te,width:100,filterRenderer:We},{key:"govID",name:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",width:100,filterRenderer:We},{key:"city",name:"\u05e2\u05d9\u05e8",filterRenderer:We},{key:"email",name:"\u05de\u05d9\u05d9\u05dc",width:110,filterRenderer:We},{key:"shirtSize",name:"\u05de\u05d9\u05d3\u05ea \u05d7\u05d5\u05dc\u05e6\u05d4",width:100,filterRenderer:We,editor:Ge},{key:"friends",name:"\u05d7\u05d1\u05e8\u05d9\u05dd",width:120,filterRenderer:We},{key:"socialCircle",name:"\u05de\u05e2\u05d2\u05dc \u05d7\u05d1\u05e8\u05ea\u05d9",width:110,filterRenderer:We},{key:"youthGroup",name:"\u05ea\u05e0\u05d5\u05e2\u05ea \u05e0\u05d5\u05e2\u05e8",width:100,filterRenderer:We},{key:"interests",name:"\u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05e0\u05d9\u05d9\u05df",width:100,filterRenderer:We},{key:"specialIssues",name:"\u05d1\u05e2\u05d9\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05d5\u05ea",width:110,filterRenderer:We},{key:"prefferedDays",name:"\u05d9\u05de\u05d9\u05dd \u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd",width:110,filterRenderer:We},{key:"staffMemberAppointed",name:"\u05d0\u05d9\u05e9 \u05e6\u05d5\u05d5\u05ea \u05de\u05d8\u05e4\u05dc",width:120,filterRenderer:We},{key:"comments",name:"\u05d4\u05e2\u05e8\u05d5\u05ea",filterRenderer:We},{key:"studentStatus",name:"\u05e1\u05d8\u05d8\u05d5\u05e1",filterRenderer:We,editable:!1},{key:"lastModified",name:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df",filterRenderer:We,editable:!1,width:160},{key:"check",width:5}].map((function(e){return Fe({},Be,{},e)})),Ke=function(e){return"departmentManager"===e?Xe:"coordinator"===e?He:"tutor"===e?qe:Ve},_e=n(90),Qe=n.n(_e);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=function(e,t,n,r){var a="owners."+r+"s";"ceo"===r?Me.getStudents().onSnapshot((function(n){e(n.docs.map((function(e){return $e({},e.data(),{fid:e.id})}))),t(!1)}),(function(e){console.log(e),t(!1)})):"tutor"===r?Me.getStudents().where(a,"array-contains",{uid:n}).onSnapshot((function(n){console.log(n),e(n.docs.map((function(e){return $e({},e.data(),{fid:e.id})}))),t(!1)}),(function(e){console.log(e),t(!1)})):Me.getStudents().where(a,"array-contains",n).onSnapshot((function(n){e(n.docs.map((function(e){return $e({},e.data(),{fid:e.id})}))),t(!1)}),(function(e){console.log(e),t(!1)}))},et=function(e){Me.getUsers().onSnapshot((function(t){e(t.docs.map((function(e){return e.data().phone})))}),(function(e){console.log(e)}))},tt=function(e){Me.getStudents().onSnapshot((function(t){e(t.docs.map((function(e){return e.data().phone})))}),(function(e){console.log(e)}))},nt=function(e,t,n,r){var a="owners."+r+"s";"ceo"===r?Me.getUsers().onSnapshot((function(t){var r=t.docs.map((function(e){return $e({},e.data(),{fid:e.id})}));r=r.filter((function(e){return"tutor"===e.role})),e(r),n(!1)}),(function(e){console.log(e),n(!1)})):Me.getUsers().where(a,"array-contains",t).onSnapshot((function(t){var r=t.docs.map((function(e){return $e({},e.data(),{fid:e.id})}));r=r.filter((function(e){return"tutor"===e.role})),e(r),n(!1)}),(function(e){console.log(e),n(!1)}))},rt=function(e,t,n,r){"departmentManager"===r?Me.getUsers().where("owners.departmentManagers","array-contains",t).onSnapshot((function(t){var r=t.docs.map((function(e){return $e({},e.data(),{fid:e.id})}));r=r.filter((function(e){return"coordinator"===e.role})),e(r),n(!1)}),(function(e){console.log(e),n(!1)})):Me.getUsers().onSnapshot((function(t){var r=t.docs.map((function(e){return $e({},e.data(),{fid:e.id})}));r=r.filter((function(e){return"coordinator"===e.role})),e(r),n(!1)}),(function(e){console.log(e),n(!1)}))},at=function(e,t){Me.getUsers().onSnapshot((function(n){var r=n.docs.map((function(e){return $e({},e.data(),{fid:e.id})}));r=r.filter((function(e){return"departmentManager"===e.role})),e(r),t(!1)}),(function(e){console.log(e),t(!1)}))};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=Object(S.a)((function(e){return{root:{textAlign:"center",alignContent:"center",border:3,borderRadius:3,borderColor:"black",borderWidth:3,width:"100%",maxWidth:300},nested:{paddingLeft:e.spacing(2),border:3,borderRadius:3},actionsContainer:{display:"flex",flexDirection:"row-reverse"},actions:{display:"flex",margin:e.spacing(1),flexDirection:"column",padding:5,marginTop:20},saveContainer:{display:"flex",flexDirection:"column",margin:e.spacing(1),marginRight:"auto",padding:5,marginTop:20},button:{borderRadius:5,fontFamily:"Arial",fontSize:18,padding:4,margin:e.spacing(1),textAlign:"center",alignContent:"center"},formTitle:{textAlign:"center",font:30},formText:{textAlign:"right"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),textAlign:"right",width:150},icon:{margin:e.spacing(1)},buttonProgress:{color:Oe.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},menu:{width:150},rowRender:{border:1,borderRadius:3}}})),ct=Y.Data.Selectors,st=function(e,t,n){return function(r){return"NONE"===n?e:Object(L.a)(r).sort((function(e,r){return"ASC"===n?e[t]>r[t]?1:-1:"DESC"===n?e[t]<r[t]?1:-1:void 0}))}},ut=function(e){return function(t){var n=ot({},t);return e.filterTerm?n[e.column.key]=e:delete n[e.column.key],n}};var dt=function(e){var t=e.row,n=e.renderBaseRow,r=Object(z.a)(e,["row","renderBaseRow"]),i=ot({},t,{lastModified:me()(t.lastModified).format("DD/MM/YYYY HH:mm:ss"),dob:""===t.dob?"":me()(t.dob).format("DD/MM/YYYY")}),o=r.idx%2?"#eee":"#3333";return a.a.createElement("div",{style:{backgroundColor:o,backgroundPosition:"absolute",borderBlockColor:o}},n(ot({},r,{row:i})))};function ft(e){var t=e.originalRows,n=e.setOriginalRows,i=e.rows,o=e.setMainRows,l=e.setSaveButtonColor,c=e.saveButtonColor,s=e.userStatus,u=e.role,d=e.uid,b=e.tutors,p=e.coordinators,g=e.departmentManagers,h=Object(r.useState)([]),v=Object(m.a)(h,2),O=v[0],w=v[1],E=Object(r.useState)({}),k=Object(m.a)(E,2),S=k[0],M=k[1],F=Object(r.useState)(i),T=Object(m.a)(F,2),I=T[0],B=T[1],z=Object(r.useState)(!1),W=Object(m.a)(z,2),$=W[0],ee=W[1],ne=Object(r.useState)(!0),ae=Object(m.a)(ne,2),oe=ae[0],ce=ae[1],ue=Object(r.useState)({title:"",body:"",visible:!1}),fe=Object(m.a)(ue,2),me=fe[0],be=fe[1],pe=Object(r.useState)({firstNameErr:!1,lastNameErr:!1,genderErr:!1,phoneErr:!1}),ge=Object(m.a)(pe,2),he=ge[0],ve=ge[1],Oe=Object(r.useState)(""),Ee=Object(m.a)(Oe,2),je=Ee[0],ke=Ee[1],Se=Object(r.useState)(!1),Re=Object(m.a)(Se,2),Ne=Re[0],Ce=Re[1],Pe=function(e,t){return ct.getRows({rows:e,filters:t})}(I,S),xe=Object(r.useState)({}),De=Object(m.a)(xe,2),Ae=De[0],Fe=De[1],Te=Object(r.useState)(!1),Ie=Object(m.a)(Te,2),Be=Ie[0],ze=Ie[1],Le=Object(r.useState)(!1),We=Object(m.a)(Le,2),Ge=We[0],Ye=We[1],Ue=Object(r.useState)(!1),Ve=Object(m.a)(Ue,2),Xe=Ve[0],He=Ve[1],qe=Object(r.useState)(!1),_e=Object(m.a)(qe,2),Je=_e[0],$e=_e[1],Ze=Object(r.useState)([]),et=Object(m.a)(Ze,2),nt=et[0],rt=et[1],at=lt();var it=function(e){return y(Object.entries(e).filter((function(e){return Object(m.a)(e,2)[1]})))},ft=function(e){return Rt.forEach((function(t){var n=t.key;e.hasOwnProperty(n)?("lastModified"!==n&&"dob"!==n||void 0===e[n]||null===e[n]||""===e[n]||(e[n]=e[n]instanceof Date?e[n]:e[n].toDate()),null!==e[n]&&void 0!==e[n]||(e[n]="")):e=ot({},e,Object(f.a)({},n,"lastModified"===n?new Date:""))})),e},mt=function(e){return e.map(ft)},bt=function(e){var t=[{firstName:"None"}];return"tutors"===e&&0!==b.length?t=[].concat(Object(L.a)(t),Object(L.a)(b)):"coordinators"===e&&0!==p.length?t=[].concat(Object(L.a)(t),Object(L.a)(p)):0!==g.length&&(t=[].concat(Object(L.a)(t),Object(L.a)(g))),t},pt=function(){return new Date},gt=function(){for(var e=0;e<I.length;e++)I[e].id=e+1;B(I),o(I)},ht=function(e){return function(t){var n=e+"Err";ve(ot({},he,Object(f.a)({},n,!1))),Fe(ot({},Ae,Object(f.a)({},e,t.target.value)))}};function vt(){Ce(!1),Fe({})}function Ot(){He(!1)}var wt=function(e){delete e.check,delete e.id,delete e.studentStatus,delete e.fid,delete e.tutor,delete e.coordinator,delete e.departmentManager};function Et(e){return nt.includes(e)}function jt(e){return 13===e.length}var kt=function(){ze(!0),vt();var e=ft(Ae);wt(e),e=ye(u,d,s.owners,null,e),e=it(e),Me.getStudents().add(e).then((function(t){e=ot({},e=ft(Ae),{fid:t.id}),e=ye(u,d,s.owners,null,e),I.unshift(e),gt(),I=Ft(),B(I),o(I),l("secondary"),ze(!1),be({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e0\u05d9\u05da",body:"!\u05d4\u05d7\u05e0\u05d9\u05da \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0})})).catch((function(e){console.log("Error adding student",e),ze(!1),be({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e0\u05d9\u05da",body:"!\u05d0\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d7\u05e0\u05d9\u05da",visible:!0})}))},St=1===O.length?"\u05d7\u05e0\u05d9\u05da \u05d1\u05d7\u05d5\u05e8":"\u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05d1\u05d7\u05d5\u05e8\u05d9\u05dd",Rt=Ke(u),Nt=Object(L.a)(Rt),Ct=bt("tutors"),Pt=bt("coordinators"),xt=bt("departmentManagers"),Dt=function(e){return Rt.map((function(t){return e[t.key]}))},Mt=function(e){for(var t=0;t<b.length;t++)if(b[t].fid===e)return b[t]},At=function(e){var t=ot({},e),n="",r="",a="",i="";if(null!==t.owners&&void 0!==t.owners){if(t.owners.hasOwnProperty("tutors")&&t.owners.tutors.length>0)for(var o=t.owners.tutors,l=0;l<o.length;l++){if("normal"===o[l].studentStatus){n="\u05d2\u05d5\u05d9\u05e1";var c=Mt(o[l].uid);void 0!==c&&(r=c.firstName+" "+c.lastName);break}if("potential"===o[l].studentStatus){n="\u05e9\u05d5\u05d1\u05e5";var s=Mt(o[l].uid);void 0!==s&&(r=s.firstName+" "+s.lastName)}}if(t.owners.hasOwnProperty("coordinators")&&t.owners.coordinators.length>0){var u=function(e){for(var t=0;t<p.length;t++)if(p[t].fid===e)return p[t]}(t.owners.coordinators[0]);void 0!==u&&(a=u.firstName+" "+u.lastName)}if(t.owners.hasOwnProperty("departmentManagers")&&t.owners.departmentManagers.length>0){var d=function(e){for(var t=0;t<g.length;t++)if(g[t].fid===e)return g[t]}(t.owners.departmentManagers[0]);void 0!==d&&(i=d.firstName+" "+d.lastName)}t=ot({},t,{studentStatus:n,tutor:r,departmentManager:i,coordinator:a})}return t},Ft=function(){return I.map(At)};oe&&function(){gt();var e=mt(I);I=Object(L.a)(e),e=Ft(),tt(rt),B(e),o(Object(L.a)(e)),ce(!1)}();var Tt,It=function(e){return e.hasOwnProperty("dob")&&void 0!==e.dob&&null!==e.dob&&""!==e.dob&&(e.dob=e.dob instanceof Date?e.dob:new Date(e.dob)),e},Bt=function(){Ye(!0),t.length!==I.length&&function(){var e=I.map((function(e){return e.fid}));t=t.filter((function(t){return e.includes(t.fid)})),n(Object(L.a)(t))}();var e=function(){var e=[],n=[];I.map((function(t){return e.push({id:t.id-1,fid:t.fid})}));for(var r=0;r<t.length;r++)for(var a=0;a<e.length;a++)t[r].fid===e[a].fid&&void 0!==I[e[a].id]&&t[r].lastModified.toDate().getTime()!==new Date(I[e[a].id].lastModified).getTime()&&n.push(I[e[a].id]);return n}();(e=function(e){return e.map(It)}(e)).length>0&&function(e){e.forEach((function(e){var t=ot({},e);wt(t),t=it(t),Me.getSpecificStudent(e.fid).set(t)}))}(e);var r=mt(I);I=Object(L.a)(r),r=Ft(),B(r),o(Object(L.a)(r)),gt(),Ye(!1),l("default"),be({title:"\u05e9\u05de\u05d9\u05e8\u05ea \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd",body:"\u05db\u05dc \u05d4\u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd \u05e0\u05e9\u05de\u05e8\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0})};return a.a.createElement("div",null,a.a.createElement("div",{className:at.actionsContainer},a.a.createElement("div",{className:at.actions},a.a.createElement(D.a,{style:{color:"#0089c6",border:3,borderStyle:"solid"},variant:"outlined",disabled:Be,size:"large",className:at.button,onClick:function(){return Fe(ot({id:I.length,studentStatus:"\u05dc\u05d0 \u05e9\u05d5\u05d1\u05e5",lastModified:pt()},Ae)),void Ce(!0)}},"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05e0\u05d9\u05da",a.a.createElement(ie.a,null),Be&&a.a.createElement(U.a,{size:24,className:at.buttonProgress})),a.a.createElement(A,Object.assign({},me,{handleClose:function(){return be(ot({},me,{visible:!1}))}})),a.a.createElement(R.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:Ne,onClose:vt,"aria-labelledby":"form-dialog-title"},a.a.createElement("form",{autoComplete:"on"},a.a.createElement(N.a,{id:"form-dialog-title",className:at.formTitle},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e0\u05d9\u05da"),a.a.createElement(C.a,null,a.a.createElement(P.a,{className:at.formText},"** \u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea **"),a.a.createElement(V.a,{required:!0,autoFocus:!0,error:he.firstNameErr,variant:"outlined",margin:"dense",id:"firstName",className:at.textField,placeholder:"\u05d3\u05d5\u05d3",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",type:"name",onChange:ht("firstName")}),a.a.createElement(V.a,{required:!0,error:he.lastNameErr,variant:"outlined",margin:"dense",id:"lastName",className:at.textField,placeholder:"\u05db\u05d4\u05df",label:"\u05e9\u05dd \u05d4\u05de\u05e9\u05e4\u05d7\u05d4",type:"name",onChange:ht("lastName")}),a.a.createElement(V.a,{required:!0,error:he.genderErr,variant:"outlined",select:!0,id:"gender",margin:"dense",label:"\u05de\u05d9\u05df",className:at.textField,onChange:ht("gender"),value:Ae.gender,SelectProps:{MenuProps:{className:at.menu}}},[{value:"\u05d6",label:"\u05d6\u05db\u05e8"},{value:"\u05e0",label:"\u05e0\u05e7\u05d1\u05d4"}].map((function(e){return a.a.createElement(X.a,{key:e.value,value:e.value},e.label)}))),a.a.createElement(we.a,{error:he.phoneErr,country:"IL",label:"\u05de\u05e1' \u05d8\u05dc\u05e4\u05d5\u05df",className:at.textField,placeholder:"\u05e0\u05d9\u05d9\u05d3",onChange:(Tt="phone",function(e){Fe(ot({},Ae,Object(f.a)({},Tt,e)))})})),a.a.createElement(x.a,null,a.a.createElement(D.a,{onClick:vt,color:"secondary",className:at.button,size:"large"},"\u05d1\u05d8\u05dc"),a.a.createElement(D.a,{onClick:function(){""!==Ae.firstName&&Ae.hasOwnProperty("firstName")?(ve({firstNameErr:!1}),""!==Ae.lastName&&Ae.hasOwnProperty("lastName")?(ve({lastNameErr:!1}),""!==Ae.gender&&Ae.hasOwnProperty("gender")?(ve({genderErr:!1}),""!==Ae.phone&&Ae.hasOwnProperty("phone")&&void 0!==Ae.phone?(ve({phoneErr:!1}),!Ae.phone||jt(Ae.phone)?Et(Ae.phone)?be({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e0\u05d9\u05da",body:"!\u05d4\u05e0\u05d9\u05d9\u05d3 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",visible:!0}):kt():be({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e0\u05d9\u05da",body:"!\u05e0\u05d0 \u05dc\u05d4\u05db\u05e0\u05d9\u05e1 \u05e0\u05d9\u05d9\u05d3 \u05ea\u05e7\u05d9\u05df",visible:!0})):ve({phoneErr:!0})):ve({genderErr:!0})):ve({lastNameErr:!0})):ve({firstNameErr:!0})},color:"primary",className:at.button,size:"large"},"\u05d4\u05d5\u05e1\u05e3"))))),a.a.createElement("div",{className:at.actions},a.a.createElement(D.a,{style:{color:"#0089c6",border:3,borderStyle:"solid"},variant:"outlined",size:"large",className:at.button,onClick:function(){return function(){var e=[Rt.map((function(e){return e.name}))].concat(I.map(Dt));j({fileName:"\u05e8\u05e9\u05d9\u05de\u05ea \u05d7\u05e0\u05d9\u05db\u05d9\u05dd",aoa:e})}()}},"\u05d9\u05d9\u05e6\u05d0 \u05dc\u05d0\u05e7\u05e1\u05dc",a.a.createElement(le.a,null))),a.a.createElement("div",{className:at.saveContainer},a.a.createElement(D.a,{style:{border:3,borderStyle:"solid"},variant:"outlined",size:"large",color:c,className:at.button,onClick:function(){return"secondary"===c?Bt():{}},disabled:Ge},"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd",a.a.createElement(le.a,null),Ge&&a.a.createElement(U.a,{size:24,className:at.buttonProgress})))),a.a.createElement(G.a,{rowKey:"id",columns:Nt.reverse(),rowGetter:function(e){return Pe[e]},rowsCount:Pe.length,minHeight:350,toolbar:a.a.createElement(Y.Toolbar,{enableFilter:!0}),onAddFilter:function(e){return M(ut(e))},onClearFilters:function(){return M({})},getValidFilterValues:function(e){return function(e,t){return e.map((function(e){return e[t]})).filter((function(e,t,n){return t===n.indexOf(e)}))}(I,e)},onGridSort:function(e,t){return B(st(I,e,t))},onGridRowsUpdated:function(e){var t=e.fromRow,n=e.toRow,r=e.updated;if(void 0!==r.phone){if(!jt(r.phone))return void be({title:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e0\u05d9\u05d9\u05d3",body:"!\u05e0\u05d0 \u05dc\u05d4\u05db\u05e0\u05d9\u05e1 \u05e0\u05d9\u05d9\u05d3 \u05ea\u05e7\u05d9\u05df",visible:!0});if(Et(r.phone))return void be({title:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e0\u05d9\u05d9\u05d3",body:"!\u05d4\u05e0\u05d9\u05d9\u05d3 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",visible:!0})}l("secondary");for(var a=Qe()(I),i=0;i<a.length;i++)i>=t&&i<=n?(a[i]=ot({},I[i],{},r),a[i].lastModified=pt()):(a[i]=ot({},I[i]),a[i].lastModified=new Date(a[i].lastModified));B(a),o(a)},rowRenderer:dt,enableCellSelect:!0,rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:function(e){w(O.concat(e.map((function(e){return e.rowIdx}))))},onRowsDeselected:function(e){var t=e.map((function(e){return e.rowIdx})),n=O.filter((function(e){return-1===t.indexOf(e)}));w(n)},selectBy:{indexes:O}}}),0!==O.length?a.a.createElement("div",{className:at.actionsContainer},a.a.createElement(H.a,{component:"nav",className:at.root},a.a.createElement(q.a,{button:!0,onClick:function(){$e(!Je)},className:at.nested},a.a.createElement(K.a,null,a.a.createElement(se.a,null)),a.a.createElement(_.a,{primary:"\u05e9\u05d1\u05e5 \u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5",style:{textAlign:"center"}}),Je?a.a.createElement(Z.a,null):a.a.createElement(te.a,null)),a.a.createElement(Q.a,{in:Je,timeout:"auto",unmountOnExit:!0,className:at.nested},a.a.createElement(H.a,{component:"div",disablePadding:!0},"tutor"!==u?a.a.createElement(q.a,{button:!0,onClick:function(){return 0!==O.length?ke("tutors"):ke("")},className:at.nested},a.a.createElement(_.a,{primary:"\u05dc\u05de\u05d3\u05e8\u05d9\u05da",style:{textAlign:"right",marginRight:"33%"},className:at.nested})):null,a.a.createElement(yt,{title:"\u05d1\u05d7\u05e8 \u05de\u05d3\u05e8\u05d9\u05da",optionsArr:Ct,visible:"tutors"===je,handleClose:function(e){if(ke(""),0!==O.length&&"Cancel"!==e){for(O.map((function(t){if("None"!==e){var n=I[t].owners;if(n.hasOwnProperty("tutors"))(n=n.tutors).map((function(e){return e.uid})).includes(e)||I[t].owners.tutors.push({studentStatus:"potential",uid:e});else(n=ot({},n,{tutors:[]})).tutors.push({studentStatus:"potential",uid:e}),I[t].owners=n}else I[t].owners.tutors=[];return Me.getSpecificStudent(I[t].fid).update({owners:I[t].owners}),I[t].lastModified=pt(),I=Ft(),B(I),o(I),[]})),"None"!==e&&be({title:"\u05e9\u05d9\u05d1\u05d5\u05e5 \u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05dc\u05de\u05d3\u05e8\u05d9\u05da",body:"\u05db\u05dc \u05d4\u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e9\u05d5\u05d1\u05e6\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0});0!==O.length;)O.shift();l("secondary")}}}),"departmentManager"===u||"ceo"===u?a.a.createElement(q.a,{button:!0,onClick:function(){return 0!==O.length?ke("coordinators"):ke("")}},a.a.createElement(_.a,{primary:"\u05dc\u05e8\u05db\u05d6",style:{textAlign:"right",marginRight:"33%"}})):null,a.a.createElement(yt,{title:"\u05d1\u05d7\u05e8 \u05e8\u05db\u05d6",optionsArr:Pt,visible:"coordinators"===je,handleClose:function(e){if(ke(""),0!==O.length&&"Cancel"!==e){for(O.map((function(t){if("None"!==e){var n=I[t].owners;n.hasOwnProperty("coordinators")?(n=n.coordinators).includes(e)||I[t].owners.coordinators.push(e):((n=ot({},n,{coordinators:[]})).coordinators.push(e),I[t].owners=n)}else I[t].owners.coordinators=[];return Me.getSpecificStudent(I[t].fid).update({owners:I[t].owners}),I[t].lastModified=pt(),I=Ft(),B(I),o(I),[]})),"None"!==e&&be({title:"\u05e9\u05d9\u05d1\u05d5\u05e5 \u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05dc\u05e8\u05db\u05d6",body:"\u05db\u05dc \u05d4\u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e9\u05d5\u05d1\u05e6\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0});0!==O.length;)O.shift();l("secondary")}}}),"ceo"===u?a.a.createElement(q.a,{button:!0,className:at.nested,onClick:function(){return 0!==O.length?ke("departmentManagers"):ke("")}},a.a.createElement(_.a,{primary:"\u05dc\u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",style:{textAlign:"right",marginRight:"33%"}})):null,a.a.createElement(yt,{title:"\u05d1\u05d7\u05e8 \u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",optionsArr:xt,visible:"departmentManagers"===je,handleClose:function(e){if(ke(""),0!==O.length&&"Cancel"!==e){for(O.map((function(t){if("None"!==e){var n=I[t].owners;n.hasOwnProperty("departmentManagers")?(n=n.departmentManagers).includes(e)||I[t].owners.departmentManagers.push(e):((n=ot({},n,{departmentManagers:[]})).departmentManagers.push(e),I[t].owners=n)}else I[t].owners.departmentManagers=[];return Me.getSpecificStudent(I[t].fid).update({owners:I[t].owners}),I[t].lastModified=pt(),I=Ft(),B(I),o(I),[]})),"None"!==e&&be({title:"\u05e9\u05d9\u05d1\u05d5\u05e5 \u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05dc\u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",body:"\u05db\u05dc \u05d4\u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e9\u05d5\u05d1\u05e6\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0});0!==O.length;)O.shift();l("secondary")}}})))),a.a.createElement(H.a,{component:"nav",className:at.root,style:{maxWidth:250,border:3,borderColor:"black"}},a.a.createElement(q.a,{button:!0,onClick:function(){O.length>0&&He(!0)},disabled:$},a.a.createElement(K.a,null,a.a.createElement(re.a,null)),a.a.createElement(_.a,{primary:"\u05de\u05d7\u05e7 \u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5",style:{textAlign:"right"}}),$&&a.a.createElement(U.a,{size:24,className:at.buttonProgress})),a.a.createElement(R.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:Xe,onClose:Ot},a.a.createElement(N.a,{className:at.formTitle},"\u05de\u05d7\u05d9\u05e7\u05ea \u05d7\u05e0\u05d9\u05db\u05d9\u05dd"),a.a.createElement(C.a,null,a.a.createElement(P.a,{className:at.formText},"\u05d0\u05ea\u05d4 \u05e2\u05d5\u05de\u05d3 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05db\u05dc \u05d4\u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5")),a.a.createElement(x.a,null,a.a.createElement(D.a,{onClick:Ot,color:"primary",className:at.button,size:"large"},"\u05d1\u05d8\u05dc"),a.a.createElement(D.a,{onClick:function(){if(0!==O.length){ee(!0);var e=[];if(O.forEach((function(t){return e.push(I[t].fid)})),"ceo"===u)e.forEach((function(e){return Me.deleteStudent(e)}));else{var t="",n="owners."+u+"s";"tutor"===u?(t={studentStatus:"normal",uid:d},e.forEach((function(e){return Me.getSpecificStudent(e).update(Object(f.a)({},n,de.a.firestore.FieldValue.arrayRemove(t)))}))):e.forEach((function(e){return Me.getSpecificStudent(e).update(Object(f.a)({},n,de.a.firestore.FieldValue.arrayRemove(d)))}))}for(var r=I.filter((function(e,t){return!O.includes(t)}));0!==O.length;)O.shift();B(I=r),o(I),ee(!1),Ot(),l("secondary"),be({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05d7\u05e0\u05d9\u05db\u05d9\u05dd",body:"!\u05db\u05dc \u05d4\u05d7\u05e0\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e0\u05de\u05d7\u05e7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}),gt()}},color:"secondary",className:at.button,size:"large"},"\u05d0\u05e9\u05e8")))),a.a.createElement(H.a,{className:at.saveContainer},a.a.createElement(J.a,{style:{color:"#3F51B5",font:25},variant:"subtitle1"},O.length," ",St))):null)}var mt=n(382),bt=n(363),pt=n(378);function gt(e){var t=e.title,n=e.optionsArr,i=e.onClose,o=e.value,l=e.open,c=Object(z.a)(e,["title","optionsArr","onClose","value","open"]),s=Object(r.useState)(o),u=Object(m.a)(s,2),d=u[0],f=u[1],b=a.a.useRef(null),p=ht();return a.a.useEffect((function(){l||f(o)}),[o,l]),a.a.createElement(R.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,onEntering:function(){null!=b.current&&b.current.focus()},"aria-labelledby":"confirmation-dialog-title",open:l},c),a.a.createElement(N.a,{id:"confirmation-dialog-title",className:p.title},t),a.a.createElement(C.a,{dividers:!0},a.a.createElement(mt.a,{ref:b,value:d,onChange:function(e,t){f(t)},className:p.options},n.map((function(e){var t="";return"None"===e.firstName?(t=e.firstName,a.a.createElement(bt.a,{value:e.firstName,key:0,control:a.a.createElement(pt.a,{color:"primary"}),label:t,labelPlacement:"start"})):(void 0!==e.neighborhood&&null!==e.neighborhood&&(t+=e.neighborhood),void 0!==e.city&&null!==e.city&&(t+=", "+e.city+", "),t+=e.firstName+" "+e.lastName,a.a.createElement(bt.a,{value:e.fid,key:e.fid,control:a.a.createElement(pt.a,{color:"primary"}),label:t,labelPlacement:"start"}))})))),a.a.createElement(x.a,null,a.a.createElement(D.a,{onClick:function(){i("Cancel")},color:"secondary",className:p.button,size:"large"},"\u05d1\u05d8\u05dc"),a.a.createElement(D.a,{onClick:function(){i(d)},color:"primary",className:p.button,size:"large"},"\u05e9\u05d1\u05e5")))}var ht=Object(S.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},button:{borderRadius:5,fontFamily:"Arial",fontSize:18,padding:4,height:40,width:60},paper:{width:"80%",maxHeight:435},title:{textAlign:"center",fontSize:30},options:{textAlign:"right",alignContent:"right"}}}));function yt(e){var t=e.title,n=e.optionsArr,r=e.visible,i=e.handleClose,o=ht();return a.a.createElement("div",{className:o.root},a.a.createElement(H.a,{component:"div",role:"list"},a.a.createElement(gt,{classes:{paper:o.paper},optionsArr:n,title:t,keepMounted:!0,open:r,onClose:i,value:"None"})))}var vt=n(4),Ot=n(15),wt=n(368),Et=n(369),jt=n(366),kt=n(364),St=n(384),Rt=n(365),Nt=n(383),Ct=n(367),Pt=n(303),xt=n(379);function Dt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Mt=[{id:"neighborhood",numeric:!1,label:"\u05e9\u05db\u05d5\u05e0\u05d4"},{id:"city",numeric:!1,label:"\u05e2\u05d9\u05e8"},{id:"gender",numeric:!1,label:"\u05de\u05d9\u05df"},{id:"firstName",numeric:!1,label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"},{id:"lastName",numeric:!1,label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}];function At(e){var t=e.onSelectAllClick,n=e.order,r=e.orderBy,i=e.numSelected,o=e.rowCount,l=e.onRequestSort,c=e.multiSelect;return a.a.createElement(kt.a,null,a.a.createElement(Rt.a,{style:{flexDirection:"row-reverse"}},Mt.map((function(e){return a.a.createElement(jt.a,{key:e.fid,align:"right",padding:"default",sortDirection:r===e.fid&&n},a.a.createElement(Nt.a,{active:r===e.fid,direction:n,onClick:(t=e.fid,function(e){l(e,t)})},e.label));var t})),a.a.createElement(jt.a,{padding:"checkbox"},c?a.a.createElement(xt.a,{style:{color:"#3F51B5"},indeterminate:i>0&&i<o,checked:i>0&&i===o,onChange:t}):null)))}var Ft=Object(S.a)((function(e){return{progress:{margin:e.spacing(2)}}})),Tt=function(){var e=Ft();return a.a.createElement("div",null,a.a.createElement(U.a,{size:30,className:e.progress,style:{color:"#0089c7"}}))},It=Object(S.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ot.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto",flexDirection:"row-reverse"}}})),Bt=function(e){var t=It(),n=e.numSelected,r=e.multiSelect,i=e.onClickFetchReport,o=e.isFetchingReport;return a.a.createElement(Ct.a,{className:Object(vt.a)(t.root,Object(f.a)({},t.highlight,n>0))},a.a.createElement("div",{className:t.title},r&&n>0?a.a.createElement(J.a,{style:{color:"#3F51B5"},variant:"subtitle1"},"\u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd \u05d1\u05d7\u05d5\u05e8\u05d9\u05dd ".concat(n)):a.a.createElement(J.a,{variant:"h4",style:{color:"#41ad48"}},e.tableTitle)),a.a.createElement("div",{className:t.spacer}),a.a.createElement("div",{className:t.actions},n>0?o?a.a.createElement(Tt,null):a.a.createElement(D.a,{onClick:i,variant:"outlined",className:t.button},'\u05d3\u05d5"\u05d7'):null))},zt=Object(S.a)((function(e){return{root:{width:"100%"},paper:{width:"100%"},table:{minWidth:750},tableWrapper:{overflowX:"auto"}}})),Lt=function(e){var t=e.tableTitle,n=e.rows,r=e.multiSelect,i=e.selected,o=e.handleClick,l=e.handleSelectAll,c=e.onClickFetchReport,s=e.isFetchingReport,u=zt(),d=a.a.useState("asc"),f=Object(m.a)(d,2),b=f[0],p=f[1],g=a.a.useState("lastName"),h=Object(m.a)(g,2),y=h[0],v=h[1],O=a.a.useState(0),w=Object(m.a)(O,2),E=w[0],j=w[1],k=a.a.useState(5),S=Object(m.a)(k,2),R=S[0],N=S[1];var C=R-Math.min(R,n.length-E*R);return a.a.createElement("div",{className:u.root},a.a.createElement(Pt.a,{className:u.paper},a.a.createElement(Bt,{multiSelect:r,tableTitle:t,numSelected:i.length,onClickFetchReport:c,isFetchingReport:s}),a.a.createElement("div",{className:u.tableWrapper},a.a.createElement(wt.a,{className:u.table,"aria-labelledby":"tableTitle",size:"medium"},a.a.createElement(At,{multiSelect:r,numSelected:i.length,order:b,orderBy:y,onSelectAllClick:l,onRequestSort:function(e,t){p(y===t&&"desc"===b?"asc":"desc"),v(t)},rowCount:n.length}),a.a.createElement(Et.a,null,function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n,function(e,t){return"desc"===e?function(e,n){return Dt(e,n,t)}:function(e,n){return-Dt(e,n,t)}}(b,y)).slice(E*R,E*R+R).map((function(e,t){var n,r=(n=e.fid,-1!==i.indexOf(n)),l="enhanced-table-checkbox-".concat(t);return a.a.createElement(Rt.a,{hover:!0,onClick:function(){return o(e.fid)},role:"checkbox","aria-checked":r,tabIndex:-1,key:e.fid,selected:r},a.a.createElement(jt.a,{align:"right"},e.neighborhood),a.a.createElement(jt.a,{align:"right"},e.city),a.a.createElement(jt.a,{align:"right"},e.gender),a.a.createElement(jt.a,{align:"right"},e.firstName),a.a.createElement(jt.a,{align:"right"},e.lastName),a.a.createElement(jt.a,{padding:"checkbox"},a.a.createElement(xt.a,{checked:r,inputProps:{"aria-labelledby":l},style:{color:"#3F51B5"}})))})),C>0&&a.a.createElement(Rt.a,{style:{height:49*C}},a.a.createElement(jt.a,{colSpan:6}))))),a.a.createElement(St.a,{rowsPerPageOptions:[5,10],component:"div",count:n.length,rowsPerPage:R,page:E,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){N(+e.target.value)}})))},Wt=n(370),Gt=n(376),Yt=n(372);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangePhone=function(e){return function(t){n.setState(Vt({},n.state,Object(f.a)({},e,t)))}},n.state={phone:e.value},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getValue",value:function(){return{phone:this.state.phone}}},{key:"getInputNode",value:function(){return o.a.findDOMNode(this).getElementsByTagName("input")[0]}},{key:"render",value:function(){return a.a.createElement("form",null,a.a.createElement(we.a,{country:"IL",placeholder:"\u05e0\u05d9\u05d9\u05d3",value:this.state.phone,onChange:this.handleChangePhone("phone")}))}}]),t}(a.a.Component),Ht={filterable:!0,sortable:!0,resizable:!0,editable:!0,formatter:function(e){var t=e.value;return a.a.createElement("div",{style:{textAlign:"right"}},t)},minWidth:50},qt=Y.Editors.DropDownEditor,Kt=Y.Filters.NumericFilter,_t=Y.Filters.AutoCompleteFilter,Qt=[{key:"id",name:"No.",width:40,filterRenderer:Kt,editable:!1},{key:"lastName",name:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",width:100,filterRenderer:_t},{key:"firstName",name:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",filterRenderer:_t},{key:"phone",name:"\u05e0\u05d9\u05d9\u05d3",width:130,editor:Xt,filterRenderer:_t},{key:"gender",name:"\u05de\u05d9\u05df",editor:a.a.createElement(qt,{options:[{id:"male",value:"\u05d6"},{id:"female",value:"\u05e0"}]}),filterRenderer:_t},{key:"address",name:"\u05db\u05ea\u05d5\u05d1\u05ea",filterRenderer:_t},{key:"neighborhood",name:"\u05e9\u05db\u05d5\u05e0\u05d4",filterRenderer:_t},{key:"govID",name:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",width:100,filterRenderer:_t},{key:"city",name:"\u05e2\u05d9\u05e8",filterRenderer:_t},{key:"email",name:"\u05de\u05d9\u05d9\u05dc",width:110,filterRenderer:_t},{key:"lastModified",name:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d0\u05d7\u05e8\u05d5\u05df",filterRenderer:_t,editable:!1,width:160},{key:"check",width:5}].map((function(e){return Vt({},Ht,{},e)})),Jt=[{value:"\u05d6",label:"\u05d6\u05db\u05e8"},{value:"\u05e0",label:"\u05e0\u05e7\u05d1\u05d4"}],$t=Object(S.a)((function(e){return{root:{textAlign:"center",alignContent:"center",border:3,borderRadius:3,borderColor:"black",borderWidth:3,width:"100%",maxWidth:300},nested:{paddingLeft:e.spacing(2),border:3,borderRadius:3},actionsContainer:{display:"flex",flexDirection:"row-reverse"},actions:{display:"flex",margin:e.spacing(1),flexDirection:"column",padding:5,marginTop:20},saveContainer:{display:"flex",flexDirection:"column",margin:e.spacing(1),marginRight:"auto",padding:5,marginTop:20,Size:50},button:{borderRadius:5,fontFamily:"Arial",fontSize:18,padding:4,margin:e.spacing(1),alignContent:"center",textAlign:"right"},formTitle:{textAlign:"center",font:30},formText:{textAlign:"right"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),textAlign:"right",width:150},icon:{margin:e.spacing(1)},buttonProgress:{color:Oe.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},menu:{width:150},rowRener:{border:1,borderRadius:3}}})),Zt=Y.Data.Selectors,en=function(e,t,n){return function(r){return"NONE"===n?e:Object(L.a)(r).sort((function(e,r){return"ASC"===n?e[t]>r[t]?1:-1:"DESC"===n?e[t]<r[t]?1:-1:void 0}))}},tn=function(e){return function(t){var n=Vt({},t);return e.filterTerm?n[e.column.key]=e:delete n[e.column.key],n}};var nn=function(e){var t=e.row,n=e.renderBaseRow,r=Object(z.a)(e,["row","renderBaseRow"]),i=Vt({},t,{lastModified:me()(t.lastModified).format("DD/MM/YYYY HH:MM:SS")}),o=r.idx%2?"#eee":"#555";return a.a.createElement("div",{style:{backgroundColor:o}},n(Vt({},r,{row:i})))};function rn(e){var t=e.originalRows,n=e.setOriginalRows,i=e.rows,o=e.setMainRows,l=e.genericSaveButtonColor,c=e.setGenericSaveButtonColor,s=e.type,u=e.userStatus,d=e.role,b=e.uid,p=Object(r.useState)([]),g=Object(m.a)(p,2),h=g[0],y=g[1],v=Object(r.useState)({}),w=Object(m.a)(v,2),E=w[0],k=w[1],S=Object(r.useState)(i),M=Object(m.a)(S,2),F=M[0],T=M[1],I=Object(r.useState)(!1),B=Object(m.a)(I,2),z=B[0],W=B[1],Q=Object(r.useState)(!0),$=Object(m.a)(Q,2),Z=$[0],ee=$[1],te=Object(r.useState)({title:"",body:"",visible:!1}),ne=Object(m.a)(te,2),ae=ne[0],oe=ne[1],ce=Object(r.useState)({firstNameErr:!1,lastNameErr:!1,genderErr:!1,phoneErr:!1}),se=Object(m.a)(ce,2),ue=se[0],de=se[1],fe=Object(r.useState)(!1),me=Object(m.a)(fe,2),be=me[0],pe=me[1],ge=function(e,t){return Zt.getRows({rows:e,filters:t})}(F,E),he=Object(r.useState)({}),ve=Object(m.a)(he,2),Oe=ve[0],Ee=ve[1],je=Object(r.useState)(!1),ke=Object(m.a)(je,2),Se=ke[0],Re=ke[1],Ne=Object(r.useState)(!1),Ce=Object(m.a)(Ne,2),Pe=Ce[0],xe=Ce[1],De=Object(r.useState)(!1),Ae=Object(m.a)(De,2),Fe=Ae[0],Te=Ae[1],Ie=Object(r.useState)([]),Be=Object(m.a)(Ie,2),ze=Be[0],Le=Be[1],We=function(e){return Qt.forEach((function(t){var n=t.key;e.hasOwnProperty(n)?("lastModified"===n&&void 0!==e[n]&&null!==e[n]&&""!==e[n]&&(e[n]=e[n]instanceof Date?e[n]:e[n].toDate()),null!==e[n]&&void 0!==e[n]&&"dob"!==n||(e[n]="")):e=Vt({},e,Object(f.a)({},n,""))})),e},Ge=function(e){return e.map(We)};function Ye(e){return ze.includes(e)}function Ue(e){return 13===e.length}var Ve=function(){return new Date},Xe=function(){for(var e=0;e<F.length;e++)F[e].id=e+1;T(F),o(F)},He=function(e){return function(t){var n=e+"Err";de(Vt({},ue,Object(f.a)({},n,!1))),Ee(Vt({},Oe,Object(f.a)({},e,t.target.value)))}};function qe(){pe(!1),Ee({})}function Ke(){Te(!1)}var _e=function(e){delete e.check,delete e.id,delete e.fid};Ye(Oe.phone);var Je=function(){xe(!0),qe();var e=We(Oe);_e(e),e=ye(d,b,u.owners,s,e),e=O(e),Me.getUsers().add(e).then((function(t){e=Vt({},e,{fid:t.id}),e=We(e),e=ye(d,b,u.owners,s,e),F.unshift(e),Xe(),T(F),o(F),"tutors"===s?oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05d3\u05e8\u05d9\u05da",body:"!\u05d4\u05de\u05d3\u05e8\u05d9\u05da \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}):"coordinators"===s?oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05db\u05d6",body:"!\u05d4\u05e8\u05db\u05d6 \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}):"departmentManagers"===s&&oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",body:"!\u05d4\u05de\u05e0\u05d4\u05dc \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}),c("secondary"),xe(!1)})).catch((function(e){console.log("Error adding",e)}))},$e=$t(),Ze="tutors"===s?1===h.length?"\u05de\u05d3\u05e8\u05d9\u05da \u05d1\u05d7\u05d5\u05e8":"\u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd \u05d1\u05d7\u05d5\u05e8\u05d9\u05dd":"coordinators"===s?1===h.length?"\u05e8\u05db\u05d6 \u05d1\u05d7\u05d5\u05e8":"\u05e8\u05db\u05d6\u05d9\u05dd \u05d1\u05d7\u05d5\u05e8\u05d9\u05dd":"departmentManagers"===s?1===h.length?"\u05de\u05e0\u05d4\u05dc \u05d1\u05d7\u05d5\u05e8":"\u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05d1\u05d7\u05d5\u05e8\u05d9\u05dd":void 0,tt=Object(L.a)(Qt),nt=function(e){return Qt.map((function(t){return e[t.key]}))};Z&&function(){Xe(),et(Le);var e=Ge(F);T(Object(L.a)(e)),o(Object(L.a)(F)),ee(!1)}();var rt,at=function(){Re(!0),t.length!==F.length&&function(){var e=F.map((function(e){return e.fid}));t=t.filter((function(t){return e.includes(t.fid)})),n(Object(L.a)(t))}();var e=function(){var e=[],n=[];F.map((function(t){return e.push({id:t.id-1,fid:t.fid})}));for(var r=0;r<t.length;r++)for(var a=0;a<e.length;a++)t[r].fid===e[a].fid&&void 0!==F[e[a].id]&&(t[r].lastModified instanceof Date?t[r].lastModified.getTime()!==new Date(F[e[a].id].lastModified).getTime()&&n.push(F[e[a].id]):t[r].lastModified.toDate().getTime()!==new Date(F[e[a].id].lastModified).getTime()&&n.push(F[e[a].id]));return n}();e.length>0&&function(e){e.forEach((function(e){var t=Vt({},e);_e(t),t=O(t),Me.getSpecificUser(e.fid).set(t)}))}(e);var r=Ge(F);T(r),n(r),o(r),Xe(),Re(!1),c("default"),oe({title:"\u05e9\u05de\u05d9\u05e8\u05ea \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd",body:"\u05db\u05dc \u05d4\u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd \u05e0\u05e9\u05de\u05e8\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0})};return a.a.createElement("div",null,a.a.createElement("div",{className:$e.actionsContainer},a.a.createElement("div",{className:$e.actions},a.a.createElement(D.a,{style:{color:"#0089c6",border:3,borderStyle:"solid"},variant:"outlined",disabled:Pe,className:$e.button,onClick:function(){return Ee(Vt({id:F.length,lastModified:Ve()},Oe)),void pe(!0)},size:"large"},"tutors"===s&&"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d3\u05e8\u05d9\u05da","coordinators"===s&&"\u05d4\u05d5\u05e1\u05e3 \u05e8\u05db\u05d6 \u05e9\u05db\u05d5\u05e0\u05d4","departmentManagers"===s&&"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",a.a.createElement(ie.a,null),Pe&&a.a.createElement(U.a,{size:24,className:$e.buttonProgress})),a.a.createElement(A,Object.assign({},ae,{handleClose:function(){return oe(Vt({},ae,{visible:!1}))}})),a.a.createElement(R.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:be,onClose:qe,"aria-labelledby":"form-dialog-title"},a.a.createElement("form",{validate:"true",autoComplete:"on"},a.a.createElement(N.a,{id:"form-dialog-title",className:$e.formTitle},"tutors"===s&&"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05d3\u05e8\u05d9\u05da","coordinators"===s&&"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05db\u05d6 \u05e9\u05db\u05d5\u05e0\u05d4","departmentManagers"===s&&"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4"),a.a.createElement(C.a,null,a.a.createElement(P.a,{className:$e.formText},"** \u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea **"),a.a.createElement(V.a,{required:!0,autoFocus:!0,error:ue.firstNameErr,variant:"outlined",margin:"dense",id:"firstName",className:$e.textField,placeholder:"\u05d3\u05d5\u05d3",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",type:"name",onChange:He("firstName")}),a.a.createElement(V.a,{required:!0,variant:"outlined",error:ue.lastNameErr,margin:"dense",id:"lastName",className:$e.textField,placeholder:"\u05db\u05d4\u05df",label:"\u05e9\u05dd \u05d4\u05de\u05e9\u05e4\u05d7\u05d4",type:"name",onChange:He("lastName")}),a.a.createElement(V.a,{required:!0,select:!0,id:"gender",error:ue.genderErr,variant:"outlined",margin:"dens",label:"\u05de\u05d9\u05df",className:$e.textField,onChange:He("gender"),value:Oe.gender,SelectProps:{MenuProps:{className:$e.menu}}},Jt.map((function(e){return a.a.createElement(X.a,{key:e.value,value:e.value},e.label)}))),a.a.createElement(we.a,{required:!0,country:"IL",error:ue.phoneErr,label:"\u05de\u05e1' \u05d8\u05dc\u05e4\u05d5\u05df",placeholder:"\u05e0\u05d9\u05d9\u05d3",className:$e.textField,value:Oe.phone,onChange:(rt="phone",function(e){de(Vt({},ue,{phoneErr:!1})),Ee(Vt({},Oe,Object(f.a)({},rt,e)))})})),a.a.createElement(x.a,null,a.a.createElement(D.a,{onClick:qe,color:"secondary",size:"large"},"\u05d1\u05d8\u05dc"),a.a.createElement(D.a,{onClick:function(){""!==Oe.firstName&&Oe.hasOwnProperty("firstName")?(de({firstNameErr:!1}),""!==Oe.lastName&&Oe.hasOwnProperty("lastName")?(de({lastNameErr:!1}),""!==Oe.gender&&Oe.hasOwnProperty("gender")?(de({genderErr:!1}),""!==Oe.phone&&Oe.hasOwnProperty("phone")&&void 0!==Oe.phone?(de({phoneErr:!1}),!Oe.phone||Ue(Oe.phone)?Ye(Oe.phone)?"tutors"===s?oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05d3\u05e8\u05d9\u05da",body:"!\u05d4\u05de\u05d3\u05e8\u05d9\u05da \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",visible:!0}):"coordinators"===s?oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05db\u05d6",body:"!\u05d4\u05e8\u05db\u05d6 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",visible:!0}):"departmentManagers"===s&&oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e0\u05d4\u05dc \u05de\u05d7\u05dc\u05e7\u05d4",body:"!\u05d4\u05de\u05e0\u05d4\u05dc \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",visible:!0}):Je():oe({title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e0\u05d9\u05da",body:"!\u05e0\u05d0 \u05dc\u05d4\u05db\u05e0\u05d9\u05e1 \u05e0\u05d9\u05d9\u05d3 \u05ea\u05e7\u05d9\u05df",visible:!0})):de({phoneErr:!0})):de({genderErr:!0})):de({lastNameErr:!0})):de({firstNameErr:!0})},color:"primary",size:"large"},"\u05d0\u05e9\u05e8"))))),a.a.createElement("div",{className:$e.actions},a.a.createElement(D.a,{style:{color:"#0089c6",border:3,borderStyle:"solid"},variant:"outlined",size:"large",className:$e.button,onClick:function(){return function(){var e=[Qt.map((function(e){return e.name}))].concat(F.map(nt));"tutors"===s&&j({fileName:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd",aoa:e}),"coordinators"===s&&j({fileName:"\u05e8\u05e9\u05d9\u05de\u05ea \u05e8\u05db\u05d6\u05d9\u05dd",aoa:e}),"departmentManagers"===s&&j({fileName:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e0\u05d4\u05dc\u05d9 \u05de\u05d7\u05dc\u05e7\u05d5\u05ea",aoa:e})}()}},"\u05d9\u05d9\u05e6\u05d0 \u05dc\u05d0\u05e7\u05e1\u05dc",a.a.createElement(le.a,null))),a.a.createElement("div",{className:$e.saveContainer},a.a.createElement(D.a,{style:{border:3,borderStyle:"solid"},variant:"outlined",size:"large",color:l,className:$e.button,onClick:function(){return"secondary"===l?at():{}},disabled:Se},"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd",a.a.createElement(le.a,null),Se&&a.a.createElement(U.a,{size:24,className:$e.buttonProgress})))),a.a.createElement(G.a,{rowKey:"id",columns:tt.reverse(),rowGetter:function(e){return ge[e]},rowsCount:ge.length,minHeight:350,toolbar:a.a.createElement(Y.Toolbar,{enableFilter:!0}),onAddFilter:function(e){return k(tn(e))},onClearFilters:function(){return k({})},getValidFilterValues:function(e){return function(e,t){return e.map((function(e){return e[t]})).filter((function(e,t,n){return t===n.indexOf(e)}))}(F,e)},onGridSort:function(e,t){return T(en(F,e,t))},onGridRowsUpdated:function(e){var t=e.fromRow,n=e.toRow,r=e.updated;if(void 0!==r.phone){if(!Ue(r.phone))return void oe({title:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e0\u05d9\u05d9\u05d3",body:"!\u05e0\u05d0 \u05dc\u05d4\u05db\u05e0\u05d9\u05e1 \u05e0\u05d9\u05d9\u05d3 \u05ea\u05e7\u05d9\u05df",visible:!0});if(Ye(r.phone))return void oe({title:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e0\u05d9\u05d9\u05d3",body:"!\u05d4\u05e0\u05d9\u05d9\u05d3 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",visible:!0})}c("secondary");for(var a=Qe()(F),i=0;i<a.length;i++)i>=t&&i<=n?(a[i]=Vt({},F[i],{},r),a[i].lastModified=Ve()):a[i].lastModified=new Date(a[i].lastModified);T(a),o(a)},rowRenderer:nn,enableCellSelect:!0,rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:function(e){y(h.concat(e.map((function(e){return e.rowIdx}))))},onRowsDeselected:function(e){var t=e.map((function(e){return e.rowIdx})),n=h.filter((function(e){return-1===t.indexOf(e)}));y(n)},selectBy:{indexes:h}}}),0!==h.length?a.a.createElement("div",{className:$e.actionsContainer},a.a.createElement(H.a,{component:"nav",className:$e.root,style:{maxWidth:250,border:3,borderColor:"black"}},a.a.createElement(q.a,{button:!0,onClick:function(){h.length>0&&Te(!0)},disabled:z},a.a.createElement(K.a,null,a.a.createElement(re.a,null)),"tutors"===s&&a.a.createElement(_.a,{primary:"\u05de\u05d7\u05e7 \u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5",style:{textAlign:"right"}}),"coordinators"===s&&a.a.createElement(_.a,{primary:"\u05de\u05d7\u05e7 \u05e8\u05db\u05d6\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5",style:{textAlign:"right"}}),"departmentManagers"===s&&a.a.createElement(_.a,{primary:"\u05de\u05d7\u05e7 \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5",style:{textAlign:"right"}}),z&&a.a.createElement(U.a,{size:24,className:$e.buttonProgress})),a.a.createElement(R.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:Fe,onClose:Ke},a.a.createElement(N.a,{className:$e.formTitle},"tutors"===s&&"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd","coordinators"===s&&"\u05de\u05d7\u05d9\u05e7\u05ea \u05e8\u05db\u05d6\u05d9\u05dd","departmentManagers"===s&&"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e0\u05d4\u05dc\u05d9\u05dd"),a.a.createElement(C.a,null,a.a.createElement(P.a,{className:$e.formText},"tutors"===s&&"\u05d0\u05ea\u05d4 \u05e2\u05d5\u05de\u05d3 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05db\u05dc \u05d4\u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5","coordinators"===s&&"\u05d0\u05ea\u05d4 \u05e2\u05d5\u05de\u05d3 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05db\u05dc \u05d4\u05e8\u05db\u05d6\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5","departmentManagers"===s&&"\u05d0\u05ea\u05d4 \u05e2\u05d5\u05de\u05d3 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05db\u05dc \u05d4\u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5")),a.a.createElement(x.a,null,a.a.createElement(D.a,{onClick:Ke,color:"primary",className:$e.button,size:"large"},"\u05d1\u05d8\u05dc"),a.a.createElement(D.a,{onClick:function(){if(0!==h.length&&!z){W(!0);var e=[];h.forEach((function(t){return e.push(F[t].fid)})),e.forEach((function(e){return Me.deleteUser(e)}));for(var t=F.filter((function(e,t){return!h.includes(t)}));0!==h.length;)h.shift();T(F=t),o(F),W(!1),Ke(),"tutors"===s?oe({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05d3\u05e8\u05d9\u05db\u05dd",body:"!\u05db\u05dc \u05d4\u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e0\u05de\u05d7\u05e7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}):"coordinators"===s?oe({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e8\u05db\u05d6\u05d9\u05dd",body:"!\u05db\u05dc \u05d4\u05e8\u05db\u05d6\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e0\u05de\u05d7\u05e7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}):"departmentManagers"===s&&oe({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e0\u05d4\u05dc\u05d9 \u05de\u05d7\u05dc\u05e7\u05d5\u05ea",body:"!\u05db\u05dc \u05d4\u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05e9\u05e0\u05d1\u05d7\u05e8\u05d5 \u05e0\u05de\u05d7\u05e7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}),c("secondary"),Xe()}},color:"secondary",className:$e.button,size:"large"},"\u05d0\u05e9\u05e8")))),a.a.createElement(H.a,{className:$e.saveContainer},a.a.createElement(J.a,{style:{color:"#3F51B5",font:30},variant:"subtitle1"},h.length," ",Ze))):null)}var an=n(110),on=n.n(an),ln=n(27),cn=n.n(ln),sn=n(158),un=n.n(sn),dn=n(159),fn=n(371),mn=n(150),bn=n(160),pn=n.n(bn);function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn=["firstName","lastName","gender"],vn=["i","lastName","firstName","groups","phone","gender","schoolGrade","school","address","neighborhood","dob","govID","city","email","shirtSize","friends","socialCircle","youthGroup","interests","specialIssues","prefferedDays","staffMemberAppointed","comments"],On=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(Object(f.a)({},e,t.target.value))}},n.getLabel=function(e){switch(e){case"i":return"\u05d1\u05d7\u05e8 \u05e2\u05de\u05d5\u05d3\u05d4 \u05de\u05ea\u05d0\u05d9\u05de\u05d4";case"lastName":return"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4";case"firstName":return"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9";case"phone":return"\u05e0\u05d9\u05d9\u05d3";case"groups":return"\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea";case"gender":return"\u05de\u05d9\u05df";case"schoolGrade":return"\u05db\u05d9\u05ea\u05d4";case"school":return"\u05de\u05d5\u05e1\u05d3  \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd";case"address":return"\u05db\u05ea\u05d5\u05d1\u05ea";case"neighborhood":return"\u05e9\u05db\u05d5\u05e0\u05d4";case"dob":return"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4";case"govID":return"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea";case"city":return"\u05e2\u05d9\u05e8";case"email":return"\u05de\u05d9\u05d9\u05dc";case"friends":return"\u05d7\u05d1\u05e8\u05d9\u05dd";case"shirtSize":return"\u05de\u05d9\u05d3\u05ea \u05d7\u05d5\u05dc\u05e6\u05d4";case"socialCircle":return"\u05de\u05e2\u05d2\u05dc \u05d7\u05d1\u05e8\u05ea\u05d9";case"youthGroup":return"\u05ea\u05e0\u05d5\u05e2\u05ea \u05e0\u05d5\u05e2\u05e8";case"interests":return"\u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05e0\u05d9\u05d9\u05df";case"specialIssues":return"\u05d1\u05e2\u05d9\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05d5\u05ea";case"prefferedDays":return"\u05d9\u05de\u05d9\u05dd \u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd";case"staffMemberAppointed":return"\u05d0\u05d9\u05e9 \u05e6\u05d5\u05d5\u05ea \u05de\u05d8\u05e4\u05dc";case"comments":return"\u05d4\u05e2\u05e8\u05d5\u05ea";default:return null}},n.checkDisabled=function(e){return"i"!==e&&Object.values(n.state).includes(e)},n.chosen=function(e,t){return e[t]&&"\u05d1\u05d7\u05e8 \u05e2\u05de\u05d5\u05d3\u05d4 \u05de\u05ea\u05d0\u05d9\u05de\u05d4"!==e[t]},n.handleClickOpen=function(){var e=v(yn,n.state,n.chosen);if(!0===e){var t=vn.slice(1);n.props.onSelectingDone(t.filter((function(e){return n.chosen(n.state,e)})).map((function(e){return[e,n.state[e]]}))),n.setState({send:!0})}e||n.setState({msgState:{title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e7\u05d1\u05d5\u05e5",body:"\u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05dc\u05d0 \u05d4\u05e6\u05dc\u05d9\u05d7\u05d4 \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d1\u05d3\u05d5\u05e7 \u05d0\u05dd \u05de\u05dc\u05d0\u05ea \u05d0\u05ea \u05db\u05dc \u05e9\u05d3\u05d5\u05ea \u05d4\u05d7\u05d5\u05d1\u05d4",visible:!0}}),e&&n.setState({msgState:{title:"\u05d8\u05e2\u05d9\u05e0\u05ea \u05e7\u05d5\u05d1\u05e5",body:"\u05d4\u05e7\u05d5\u05d1\u05e5 \u05e0\u05d8\u05e2\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",visible:!0}})},n.handleClose=function(){n.setState({send:!1})},n.state={lastName:"",firstName:"",groups:"",phone:"",gender:"",schoolGrade:"",school:"",address:"",neighborhood:"",dob:"",govID:"",city:"",email:"",shirtSize:"",friends:"",socialCircle:"",youthGroup:"",interests:"",specialIssues:"",prefferedDays:"",staffMemberAppointed:"",comments:"",i:"",send:!1,msgState:{title:"",body:"",visible:!1}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={textField:{marginLeft:100,width:1e3},dense:{marginTop:19}};return a.a.createElement("div",null,a.a.createElement(Wt.a,{position:"static"},a.a.createElement(Ct.a,null,a.a.createElement(D.a,{align:"right",color:"secondary",style:{width:150,height:50,position:"relative",float:"left",margin:20},variant:"contained",className:t.button,onClick:this.handleClickOpen},a.a.createElement(pn.a,{style:{marginRight:20}}),"\u05d1\u05e6\u05e2 \u05d4\u05ea\u05d0\u05de\u05d4"),a.a.createElement(J.a,{variant:"h6",style:{flexGrow:1}}),a.a.createElement("h2",{color:"inherit",style:{flexGrow:1}},"\u05d4\u05ea\u05d0\u05de\u05ea \u05e2\u05de\u05d5\u05d3\u05d5\u05ea"))),a.a.createElement(fn.a,null,a.a.createElement(wt.a,{style:{width:"100%",marginLeft:"auto",marginRight:"auto"}},a.a.createElement(Et.a,null,a.a.createElement(Rt.a,{style:{width:"auto",marginLeft:"auto",marginRight:"auto"}},a.a.createElement(jt.a,{component:"th",scope:"row"}),a.a.createElement(jt.a,{align:"center"}," \u05de\u05d5\u05ea\u05d0\u05dd \u05dc\u05e2\u05de\u05d5\u05d3\u05d4 \u05de\u05d4\u05d0\u05e7\u05e1\u05dc "),a.a.createElement(jt.a,{align:"center"}," \u05e2\u05de\u05d5\u05d3\u05d4 \u05d1\u05d0\u05ea\u05e8 ")),vn.map((function(n){return"i"!==n?a.a.createElement(Rt.a,{key:n,style:{width:"100%",marginLeft:"auto",marginRight:"auto"}},a.a.createElement(jt.a,{component:"th",scope:"row"}),a.a.createElement(jt.a,{align:"center"},a.a.createElement(mn.a,{className:t.selectEmpty,value:e.state[n],name:n,onChange:e.handleChange(n),inputProps:{"aria-label":"age"}},e.props.fileRows.map((function(t){return a.a.createElement("option",{key:t,disabled:e.checkDisabled(t),value:t},t)})))),a.a.createElement(jt.a,{align:"center"},yn.includes(n)?"* "+e.getLabel(n):e.getLabel(n))):null}))))),a.a.createElement(A,Object.assign({},this.state.msgState,{handleClose:function(){e.state.send&&e.props.uploadedFinished(!1),e.setState({msgState:hn({},e.state.msgState,{visible:!1})})}})))}}]),t}(a.a.Component),wn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={aoo:[],selecting:!1,uploading:!1,uploadProgress:{},successfullUploaded:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"aoaToAoo",value:function(e){var t=Object(dn.a)(e),n=t[0];return t.slice(1).map((function(e){return y(e.map((function(e,t){return[n[t],e]})))}))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{width:"1000"}},this.state.selecting?a.a.createElement(On,{uploadedFinished:function(t){return e.setState({selecting:t})},onSelectingDone:function(t){e.props.onNewFile(e.state.aoo.map((function(e){return y(t.map((function(t){var n=Object(m.a)(t,2),r=n[0],a=n[1];return[r,e[a]]})))})))},fileRows:Object.keys(this.state.aoo[0])}):a.a.createElement("div",null,a.a.createElement(B,{onGetFile:function(t){return e.setState({aoo:e.aoaToAoo(t),selecting:t.length>0,successfullUploaded:t.length>0})}}),a.a.createElement(J.a,{align:"center",style:{fontSize:40,color:"#41ad48"}},"\u05d2\u05e8\u05d5\u05e8 / \u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05ea \u05e7\u05d5\u05d1\u05e5")))}}]),t}(r.Component),En=n(356),jn=n(373),kn=n(161),Sn=n.n(kn),Rn=n(19),Nn=n.n(Rn);n(297);var Cn=[{name:"totalHoursWorked",label:"\u05db\u05de\u05d4 \u05e9\u05e2\u05d5\u05ea \u05e2\u05d1\u05d3\u05ea \u05d4\u05d7\u05d5\u05d3\u05e9?"},{name:"studentsInYourCare",label:"\u05db\u05de\u05d4 \u05d1\u05e0\u05d9 \u05e0\u05d5\u05e2\u05e8 \u05d1\u05d0\u05d7\u05e8\u05d9\u05d5\u05ea\u05da?"},{name:"studentsDiscussedWith",label:"\u05e2\u05dd \u05db\u05de\u05d4 \u05d1\u05e0\u05d9 \u05e0\u05d5\u05e2\u05e8 \u05e0\u05d9\u05d4\u05dc\u05ea \u05e9\u05d9\u05d7\u05d4 \u05d5\u05dc\u05d5 \u05e4\u05e2\u05dd \u05d0\u05d7\u05ea?"},{name:"studentsWhoSharedProblems",label:"\u05e2\u05dd \u05db\u05de\u05d4 \u05d1\u05e0\u05d9 \u05e0\u05d5\u05e2\u05e8 \u05d9\u05e9 \u05dc\u05da \u05e7\u05e9\u05e8 \u05de\u05e9\u05de\u05e2\u05d5\u05ea\u05d9 ? (\u05dc\u05d3\u05d5\u05d2\u05de\u05d4 \u05de\u05e9\u05ea\u05e3 \u05d0\u05d5\u05ea\u05da \u05d1\u05e7\u05e9\u05d9\u05d9\u05dd ?)"},{name:"studentsWhoAttendedContentGroupActivity",label:"\u05db\u05de\u05d4 \u05d1\u05e0\u05d9 \u05e0\u05d5\u05e2\u05e8 \u05e0\u05de\u05e6\u05d0\u05d9\u05dd \u05d1\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05ea\u05d4\u05dc\u05d9\u05db\u05d9 \u05ea\u05d5\u05db\u05df \u05e9\u05d0\u05ea\u05d4 \u05de\u05d5\u05d1\u05d9\u05dc? (\u05d2\u05dd \u05d3\u05d1\u05e8\u05d9\u05dd \u05e9\u05dc\u05d0 \u05d0\u05ea\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea \u05de\u05e2\u05d1\u05d9\u05e8)"},{name:"groupActivitiesWithAdmirablePerson",label:"\u05db\u05de\u05d4 \u05de\u05e4\u05d2\u05e9\u05d9\u05dd \u05e2\u05dd \u05d3\u05de\u05d5\u05d9\u05d5\u05ea \u05dc\u05d4\u05d6\u05d3\u05d4\u05d5\u05ea \u05d0\u05e8\u05d2\u05e0\u05ea \u05dc\u05d7\u05d1\u05e8\u05d4?  (\u05dc\u05d0 \u05d7\u05e9\u05d5\u05d1 \u05dc\u05db\u05de\u05d4 \u05d7\u05d1\u05e8\u05d4)"},{name:"regiousGroupActivities",label:"\u05db\u05de\u05d4 \u05d7\u05d5\u05d5\u05d9\u05d5\u05ea \u05e9\u05dc\u05e2\u05e8\u05db\u05d9\u05d5\u05ea / \u05de\u05e9\u05de\u05e2\u05d5\u05ea\u05d9\u05d5\u05ea /\u05e7\u05d5\u05d3\u05e9 \u05d0\u05e8\u05d2\u05e0\u05ea \u05dc\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea \u05e7\u05d8\u05e0\u05d5\u05ea \u05d5\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05d5\u05ea (\u05e7\u05d1\u05dc\u05ea \u05e9\u05d1\u05ea, \u05e2\u05d5\u05e0\u05d2 \u05e9\u05d1\u05ea, \u05de\u05dc\u05d5\u05d5\u05d4 \u05de\u05dc\u05db\u05d4 , \u05e1\u05d9\u05d5\u05e8, \u05d8\u05d9\u05d5\u05dc, \u05e9\u05d9\u05e2\u05d5\u05e8 \u05ea\u05d5\u05e8\u05d4 \u05d7\u05d3 \u05e4\u05e2\u05de\u05d9, \u05e2\u05dc \u05d4\u05d0\u05e9 - \u05e4\u05d5\u05d9\u05e7\u05d4 , \u05de\u05e4\u05d2\u05e9 \u05d1\u05d9\u05ea\u05d9 \u05dc\u05e9\u05d9\u05d7 \u05d7\u05d5\u05e4\u05e9\u05d9, \u05d4\u05ea\u05e0\u05d3\u05d1\u05d5\u05ea\u05d5 \u05db\u05d3\u05d5')"}],Pn=Object(S.a)((function(e){return{root:{textAlign:"center",alignContent:"center",border:3,borderRadius:3,borderColor:"black",borderWidth:3,width:"100%",maxWidth:300},nested:{paddingLeft:e.spacing(2),border:3,borderRadius:3},actionsContainer:{display:"flex",flexDirection:"row-reverse"},actions:{display:"flex",margin:e.spacing(1),flexDirection:"column",padding:5,marginTop:20},saveContainer:{display:"flex",flexDirection:"column",margin:e.spacing(1),marginRight:"auto",padding:5,marginTop:20,Size:50},button:{borderRadius:5,fontFamily:"Arial",fontSize:18,padding:4,margin:e.spacing(1),alignContent:"center",textAlign:"right"},formTitle:{textAlign:"center",font:30},formText:{textAlign:"right"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),textAlign:"right",width:150},icon:{margin:e.spacing(1)},buttonProgress:{color:Oe.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},menu:{width:150},rowRener:{border:1,borderRadius:3}}})),xn=function(e){var t=e.tutor?null:e.tutors.filter((function(e){return e.fid})),n=Object(r.useState)("monthlyReport"),i=Object(m.a)(n,2),o=i[0],l=i[1],c=Object(r.useState)({selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear()}),s=Object(m.a)(c,2),u=s[0],d=s[1],b=Object(r.useState)([]),p=Object(m.a)(b,2),g=p[0],h=p[1],y=Object(r.useState)(!1),v=Object(m.a)(y,2),O=v[0],w=v[1],E=Pn(),k=function(){w(!0);var t=null;"monthlyReport"===o&&(t=new Date(u.selectedYear,u.selectedMonth)),Me.getAttendance(e.tutor?[e.tutor.fid]:g,t).then((function(t){if(0===t.length)throw new Error("no results!");var n,r,a=t.map((function(e){var t=Nn.a.groupBy(e,(function(e){var t=e.startTime;return be(t).format("YYYY-MM")})),n=Nn.a.sortBy(Object.entries(t),(function(e){var t=Object(m.a)(e,1)[0];return me()(t)})).map((function(e){return Object(m.a)(e,1)[0]})),r=Object.entries(t).map((function(e){var t,n,r,a,i,o,l=Object(m.a)(e,2),c=l[0],s=l[1],u=he(s),d=s.map((function(e){var t=e.activities,n=e.startTime,r=e.endTime;return{activities:t,startTime:be(n),endTime:be(r)}})).sort((function(e,t){return e.startTime>t.startTime?1:-1})),f=d.filter((function(e){var t=e.activities;return Nn.a.some(t,["type","\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea\u05d9\u05ea"])})),b=d.filter((function(e){var t=e.activities;return Nn.a.some(t,["type","\u05e9\u05d9\u05d7\u05d4 \u05d0\u05d9\u05e9\u05d9\u05ea"])})),p=0!==b.length,g=0!==f.length;if(g){var h=f[f.length-1];t=Nn.a.union.apply(Nn.a,Object(L.a)(Nn.a.find(h.activities,["type","\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea\u05d9\u05ea"]).groups.map((function(e){return e.participants.map((function(e){return e.uid}))})))).length,n=Nn.a.union(Nn.a.flatMapDeep(f.map((function(e){return e.activities.filter((function(e){return"\u05ea\u05d4\u05dc\u05d9\u05da \u05ea\u05d5\u05db\u05df"===e.subtype})).map((function(e){return e.groups.filter((function(e){return e.attended})).map((function(e){return e.participants.filter((function(e){return e.attended})).map((function(e){return e.uid}))}))}))})))).length}if(r=Nn.a.sum(f.map((function(e){return e.activities.filter((function(e){return"\u05de\u05e4\u05d2\u05e9 \u05e2\u05dd \u05d3\u05de\u05d5\u05ea \u05dc\u05d4\u05d6\u05d3\u05d4\u05d5\u05ea"===e.subtype})).length}))),a=Nn.a.sum(f.map((function(e){return e.activities.filter((function(e){return" \u05d7\u05d5\u05d5\u05d9\u05d4 \u05e2\u05e8\u05db\u05d9\u05ea / \u05de\u05e9\u05de\u05e2\u05d5\u05ea\u05d9\u05ea / \u05e7\u05d5\u05d3\u05e9"===e.subtype})).length}))),p){var y=Nn.a.union.apply(Nn.a,Object(L.a)(b.map((function(e){return e.activities.filter((function(e){return"\u05e9\u05d9\u05d7\u05d4 \u05d0\u05d9\u05e9\u05d9\u05ea"===e.type}))}))));i=Nn.a.union(y.map((function(e){return e.student.uid}))).length,o=Nn.a.union(y.filter((function(e){return"\u05e7\u05d5\u05e9\u05d9/\u05d1\u05e2\u05d9\u05d4"===e.subtype})).map((function(e){return e.student.uid}))).length}return[c,{totalHoursWorked:Nn.a.ceil(u,1),studentsInYourCare:g?t:void 0,studentsDiscussedWith:p?i:void 0,studentsWhoSharedProblems:p?o:void 0,studentsWhoAttendedContentGroupActivity:g?n:void 0,groupActivitiesWithAdmirablePerson:g?r:void 0,regiousGroupActivities:g?a:void 0}]})).map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return Nn.a.mapValues(r,(function(e){return Object(f.a)({},n,e)}))}));return Nn.a.merge.apply(Nn.a,Object(L.a)(r)),[[void 0].concat(n)].concat(Cn.map((function(e){var t=e.name;return[e.label].concat(n.map((function(e){return r[0][t][e]})))})))}));return"monthlyReport"!==o?a[0]:(n=g,r=a,n.map((function(e,t){return[e,r[t]]}))).reduce((function(t,n){var r=Object(m.a)(n,2),a=r[0],i=r[1];return t.map((function(t,n){if(0===n){var r=Nn.a.find(e.tutors,["fid",a]);return t.concat(r.firstName+" "+r.lastName)}return 1!==i[n].length?t.concat(i[n][i[n].length-1]):t.concat([void 0])}))}),[[void 0]].concat(Cn.map((function(e){return[e.label]}))))})).then((function(e){w(!1),j("monthlyReport"!==o?{fileName:"\u05d3\u05d5\u05f4\u05d7 \u05de\u05d3\u05e8\u05d9\u05da",aoa:e}:{fileName:"\u05d3\u05d5\u05f4\u05d7 \u05d7\u05d5\u05d3\u05e9 "+me()(t).format("MM-YYYY"),aoa:e})})).catch((function(e){w(!1)}))};return a.a.createElement("div",{style:{padding:50}},e.tutor?a.a.createElement(jn.a,{display:"flex",flexDirection:"row-reverse"},a.a.createElement(D.a,{style:{color:"#0089c6",border:3,borderStyle:"solid"},variant:"outlined",size:"large",className:E.button,onClick:k},"\u05d9\u05d9\u05e6\u05d0 \u05d3\u05d5\u05f4\u05d7 \u05e2\u05e6\u05de\u05d9",a.a.createElement(le.a,null))):a.a.createElement(jn.a,{display:"flex",flexDirection:"row-reverse"},a.a.createElement(jn.a,{flex:"1",flexDirection:"column"},a.a.createElement(jn.a,{style:{textAlign:"right",marginBottom:10}},a.a.createElement(J.a,{variant:"h4",style:{color:"#41ad48",fontFamily:"Alef",fontWeight:"bold"}},"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e1\u05d5\u05d2 \u05d3\u05d5\u05f4\u05d7")),a.a.createElement(jn.a,{style:{textAlign:"right",marginBottom:30}},a.a.createElement(En.a,{component:"fieldset"},a.a.createElement(mt.a,{"aria-label":"gender",name:"gender2",value:o,onChange:function(e){l(e.target.value),h([])}},a.a.createElement(bt.a,{value:"monthlyReport",control:a.a.createElement(pt.a,{color:"primary"}),label:'\u05d3\u05d5"\u05d7 \u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd \u05dc\u05e4\u05d9 \u05d7\u05d5\u05d3\u05e9',labelPlacement:"start"}),a.a.createElement(bt.a,{value:"specificTutorReport",control:a.a.createElement(pt.a,{color:"primary"}),label:'\u05d3\u05d5"\u05d7 \u05de\u05d3\u05e8\u05d9\u05da \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9',labelPlacement:"start"})))),"monthlyReport"===o?a.a.createElement(jn.a,{style:{textAlign:"right"}},a.a.createElement(J.a,{variant:"h4",style:{color:"#41ad48",marginBottom:10,fontFamily:"Alef",fontWeight:"bold"}},"\u05d1\u05d7\u05d9\u05e8\u05ea \u05d7\u05d5\u05d3\u05e9"),a.a.createElement(Sn.a,{fontSize:"50",style:{padding:50},lang:"he",i18n:{monthFormat:"long",dateFormat:{he:"MM/YYYY"},monthNames:{he:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"]}},year:u.selectedYear,month:u.selectedMonth,onChange:function(e,t,n){return d({selectedMonth:n,selectedYear:t})}})):null),a.a.createElement(jn.a,{flex:"2",flexDirection:"column"},a.a.createElement(Lt,{selected:g,handleClick:function(e){var t=g.indexOf(e);if("monthlyReport"===o){var n=[];-1===t?n=n.concat(g,e):0===t?n=n.concat(g.slice(1)):t===g.length-1?n=n.concat(g.slice(0,-1)):t>0&&(n=n.concat(g.slice(0,t),g.slice(t+1))),h(n)}else-1===t&&h([e])},handleSelectAll:function(e){e.target.checked?h(t.map((function(e){return e.fid}))):h([])},multiSelect:"monthlyReport"===o,tableTitle:"monthlyReport"===o?"\u05d1\u05d7\u05d9\u05e8\u05ea \u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05de\u05d3\u05e8\u05d9\u05da",rows:t,isFetchingReport:O,onClickFetchReport:k}))))};n(298);function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Mn=Object(S.a)((function(e){return{root:{padding:e.spacing(2,1),textAlign:"right",backgroundColor:e.palette.background.paper,width:"100%"},table:{padding:20,paddingTop:5,borderRadius:3},buttonProgress:{color:Oe.a[500],position:"absolute",top:"15%",left:"50%",marginTop:-12,marginLeft:-12},details:{textAlign:"right",backgroundColor:e.palette.background.paper,padding:5},appBar:{alignItems:"center",backgroundColor:"#F9F9F9"},tabLabel:{fontFamily:"Alef",fontWeight:"bold",fontSize:22,color:"#41ad48"}}})),An={signInFlow:"popup",signInOptions:[{provider:cn.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"IL"}],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},Fn=function(){return"are you sure you want to exit?"},Tn=function(){var e,t=Object(r.useState)("SignedOut"),n=Object(m.a)(t,2),i=n[0],o=n[1],l=Object(r.useState)(!0),c=Object(m.a)(l,2),s=c[0],u=c[1],d=Object(r.useState)(!0),b=Object(m.a)(d,2),p=b[0],g=b[1],h=Object(r.useState)(!0),y=Object(m.a)(h,2),v=y[0],O=y[1],w=Object(r.useState)(!0),E=Object(m.a)(w,2),j=E[0],k=E[1],S=Object(r.useState)([]),R=Object(m.a)(S,2),N=R[0],C=R[1],P=Object(r.useState)("default"),x=Object(m.a)(P,2),M=x[0],A=x[1],F=Object(r.useState)("default"),I=Object(m.a)(F,2),B=I[0],z=I[1],L=Object(r.useState)("default"),W=Object(m.a)(L,2),G=W[0],Y=W[1],U=Object(r.useState)("default"),V=Object(m.a)(U,2),X=V[0],H=V[1],q=Object(r.useState)([]),K=Object(m.a)(q,2),_=K[0],Q=K[1],$=Object(r.useState)([]),Z=Object(m.a)($,2),ee=Z[0],te=Z[1],ne=Object(r.useState)([]),re=Object(m.a)(ne,2),ae=re[0],ie=re[1],oe=Object(r.useState)("TableTabScene"),le=Object(m.a)(oe,2),ce=le[0],se=le[1],ue=Object(r.useState)([]),de=Object(m.a)(ue,2),fe=de[0],me=de[1],be=Object(r.useState)([]),pe=Object(m.a)(be,2),ge=pe[0],he=pe[1],ve=Object(r.useState)([]),Oe=Object(m.a)(ve,2),we=Oe[0],Ee=Oe[1],je=Object(r.useState)([]),ke=Object(m.a)(je,2),Se=ke[0],Re=ke[1];if(cn.a.auth().languageCode="iw",Object(r.useEffect)((function(){e=cn.a.auth().onAuthStateChanged((function(e){e&&(o("SignedInCheckingPermissions"),e.getIdTokenResult().then((function(e){e&&e.claims&&e.claims.isRegistered?o(e.claims):cn.a.auth().signOut().then((function(){o("SignedOutPermissionDenied")}))})).catch((function(e){cn.a.auth().signOut().then((function(){return o("SignedOutPermissionDenied")})),console.error(e)})))}))}),[]),Object(r.useEffect)((function(){return function(){e()}}),[]),i.isRegistered&&s){var Ne=cn.a.auth().currentUser.uid,Ce=i.role;Ze(C,u,Ne,Ce),Ze(me,u,Ne,Ce),"tutor"!==Ce&&(nt(te,Ne,g,Ce),nt(he,Ne,g,Ce)),"departmentManager"!==Ce&&"ceo"!==Ce||(rt(Q,Ne,O,Ce),rt(Ee,Ne,O,Ce)),"ceo"===Ce&&(at(ie,k),at(Re,k))}var Pe=Mn();if("SignedOut"===i)return a.a.createElement("div",{style:{backgroundColor:"#F9F9F9",height:"100vh",display:"flex",flexDirection:"column"}},a.a.createElement(Wt.a,null,a.a.createElement(Ct.a,{style:{textAlign:"center"}},a.a.createElement(J.a,{variant:"h3",style:{flexGrow:1,alignContent:"center",alignItems:"center"}},a.a.createElement("h3",{color:"inherit"},"\u05d3\u05e3 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea")))),a.a.createElement("img",{src:T.a,style:{width:245,height:128,alignSelf:"flex-end",marginRight:50,marginTop:100}}),a.a.createElement("div",null,a.a.createElement(on.a,{uiConfig:An,firebaseAuth:cn.a.auth()})));if("SignedOutPermissionDenied"===i)return a.a.createElement("div",{style:{backgroundColor:"#F9F9F9",height:"100vh",display:"flex",flexDirection:"column"}},a.a.createElement(Wt.a,null,a.a.createElement(Ct.a,{style:{textAlign:"center"}},a.a.createElement(J.a,{variant:"h3",style:{flexGrow:1,alignContent:"center",alignItems:"center"}},a.a.createElement("h3",{color:"inherit"},"\u05d3\u05e3 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea")))),a.a.createElement("img",{src:T.a,style:{width:245,height:128,alignSelf:"flex-end",marginRight:50,marginTop:100}}),a.a.createElement("div",null,a.a.createElement(J.a,{variant:"h5",component:"h5",style:{textAlign:"right",color:"red"}},"!\u05d0\u05d9\u05df \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05e1\u05e4\u05e8 \u05d6\u05d4"),a.a.createElement(on.a,{uiConfig:An,firebaseAuth:cn.a.auth()})));if("SignedInCheckingPermissions"===i)return a.a.createElement("div",{style:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center"}},a.a.createElement(un.a,{type:"Grid",color:"#41ad48",height:"100",width:"100"}));var xe=cn.a.auth().currentUser.uid,De=i.role;return a.a.createElement("div",null,"secondary"===M?window.onbeforeunload=Fn:null,a.a.createElement("div",null,a.a.createElement(Wt.a,{position:"static",color:"default",className:Pe.appBar,style:{flex:1,flexDirection:"row",justifyContent:"center",paddingLeft:10,paddingTop:7}},a.a.createElement(D.a,{style:{marginRight:"auto",fontSize:18,fontWeight:"bold",alignContent:"center",textAlign:"right",color:"#41ad48"},size:"large",onClick:function(){cn.a.auth().signOut().then((function(){o("SignedOut")}))}},"\u05d4\u05ea\u05e0\u05ea\u05e7"),a.a.createElement(Gt.a,{TabIndicatorProps:{style:{backgroundColor:"#41ad48"}},style:{marginRight:"auto"},textColor:"primary",variant:"scrollable",scrollButtons:"auto",value:ce,onChange:function(e,t){se(t)}},a.a.createElement(Yt.a,{key:0,value:"ReportsTabScene",label:a.a.createElement("span",{className:Pe.tabLabel},"\u05d3\u05d5\u05f4\u05d7\u05d5\u05ea")}),a.a.createElement(Yt.a,{key:5,value:"ImportFile",label:a.a.createElement("span",{className:Pe.tabLabel},"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05de\u05d0\u05e7\u05e1\u05dc")}),"ceo"===De?a.a.createElement(Yt.a,{key:1,value:"DepartmentManagersTabScene",label:a.a.createElement("span",{className:Pe.tabLabel},"\u05de\u05e0\u05d4\u05dc\u05d9 \u05de\u05d7\u05dc\u05e7\u05d5\u05ea")}):null,"departmentManager"===De||"ceo"===De?a.a.createElement(Yt.a,{key:2,value:"CoordinatorsTabScene",label:a.a.createElement("span",{className:Pe.tabLabel},"\u05e8\u05db\u05d6\u05d9\u05dd")}):null,"tutor"!==De?a.a.createElement(Yt.a,{key:3,value:"TutorsTabScene",label:a.a.createElement("span",{className:Pe.tabLabel},"\u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd")}):null,a.a.createElement(Yt.a,{key:4,value:"TableTabScene",label:a.a.createElement("span",{className:Pe.tabLabel},"\u05d7\u05e0\u05d9\u05db\u05d9\u05dd")})),a.a.createElement("img",{src:T.a,style:{width:124,height:67,marginRight:70}})),"TableTabScene"===ce?a.a.createElement("div",{className:Pe.table},function(){var e=cn.a.auth().currentUser.uid,t=i.role;return("tutor"!==t||s)&&("coordinator"!==t||s||p)&&("departmentManager"!==t||s||p||v)&&("ceo"!==t||s||p||v||j)?null:a.a.createElement(ft,{originalRows:fe,setOriginalRows:me,rows:N,setMainRows:C,saveButtonColor:M,setSaveButtonColor:A,userStatus:i,role:t,uid:e,tutors:ee,coordinators:_,departmentManagers:ae})}()):null,"TutorsTabScene"===ce?a.a.createElement("div",{className:Pe.table},a.a.createElement(rn,{originalRows:ge,setOriginalRows:he,rows:ee,setMainRows:te,genericSaveButtonColor:B,setGenericSaveButtonColor:z,type:"tutors",userStatus:i,role:De,uid:xe})):null,"CoordinatorsTabScene"===ce?a.a.createElement("div",{className:Pe.table},a.a.createElement(rn,{originalRows:we,setOriginalRows:Ee,rows:_,setMainRows:Q,genericSaveButtonColor:G,setGenericSaveButtonColor:Y,type:"coordinators",userStatus:i,role:De,uid:xe})):null,"DepartmentManagersTabScene"===ce?a.a.createElement("div",{className:Pe.table},a.a.createElement(rn,{originalRows:Se,setOriginalRows:Re,rows:ae,setMainRows:ie,genericSaveButtonColor:X,setGenericSaveButtonColor:H,type:"departmentManagers",userStatus:i,role:De,uid:xe})):null,"ImportFile"===ce?a.a.createElement("div",{className:Pe.table},a.a.createElement(wn,{onNewFile:function(e){e.forEach((function(e){var t=ye(De,xe,i.owners,null,e);Me.getStudents().add(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{lastModified:new Date}))}))}})):null,"ReportsTabScene"===ce?a.a.createElement("div",{className:Pe.table},"tutor"!==De?a.a.createElement(xn,{tutors:ge}):a.a.createElement(xn,{tutor:{fid:cn.a.auth().currentUser.uid}})):null))},In=(n(299),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.createElement(Tn,null)}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Bn=document.getElementById("root");Bn&&o.a.render(a.a.createElement(In,null),Bn),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,n){e.exports=n.p+"static/media/tamir_logoshakuf.1dceb69b.png"}},[[178,1,2]]]);
//# sourceMappingURL=main.26a7c95d.chunk.js.map